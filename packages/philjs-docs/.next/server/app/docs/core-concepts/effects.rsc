2:I[8850,["1763","static/chunks/1763-be59ea8b08cc01ae.js","7696","static/chunks/7696-3ed40d5e79880c18.js","2493","static/chunks/app/docs/core-concepts/effects/page-ff3b8ce2528ce271.js"],"CodeBlock"]
3:I[7696,["1763","static/chunks/1763-be59ea8b08cc01ae.js","7696","static/chunks/7696-3ed40d5e79880c18.js","2493","static/chunks/app/docs/core-concepts/effects/page-ff3b8ce2528ce271.js"],"Callout"]
4:I[6542,["1763","static/chunks/1763-be59ea8b08cc01ae.js","7696","static/chunks/7696-3ed40d5e79880c18.js","2493","static/chunks/app/docs/core-concepts/effects/page-ff3b8ce2528ce271.js"],""]
5:I[6419,[],""]
6:I[8445,[],""]
7:I[8765,["1763","static/chunks/1763-be59ea8b08cc01ae.js","3998","static/chunks/app/docs/layout-7a64e01358952c8e.js"],"Sidebar"]
8:I[8765,["1763","static/chunks/1763-be59ea8b08cc01ae.js","3998","static/chunks/app/docs/layout-7a64e01358952c8e.js"],"docsNavigation"]
9:I[1229,["1763","static/chunks/1763-be59ea8b08cc01ae.js","2793","static/chunks/2793-28ddd1020ce77999.js","3185","static/chunks/app/layout-575709e7d70e2afe.js"],"ThemeProvider"]
a:I[8529,["1763","static/chunks/1763-be59ea8b08cc01ae.js","2793","static/chunks/2793-28ddd1020ce77999.js","3185","static/chunks/app/layout-575709e7d70e2afe.js"],"Header"]
0:["cd22Ei08xvul0IDkb5kRy",[[["",{"children":["docs",{"children":["core-concepts",{"children":["effects",{"children":["__PAGE__",{}]}]}]}]},"$undefined","$undefined",true],["",{"children":["docs",{"children":["core-concepts",{"children":["effects",{"children":["__PAGE__",{},[["$L1",["$","div",null,{"className":"mdx-content","children":[["$","h1",null,{"children":"Effects & Lifecycle"}],["$","p",null,{"className":"lead text-xl text-surface-600 dark:text-surface-400","children":"Effects let you perform side effects like data fetching, DOM manipulation, and subscriptions in response to reactive changes."}],["$","h2",null,{"id":"create-effect","children":"createEffect"}],["$","p",null,{"children":"Effects run immediately and automatically re-run when their dependencies change:"}],["$","$L2",null,{"code":"import { createSignal, createEffect } from 'philjs-core';\n\nconst [count, setCount] = createSignal(0);\n\ncreateEffect(() => {\n  console.log('Count is:', count());\n});\n\n// Logs: \"Count is: 0\"\n\nsetCount(1);\n// Logs: \"Count is: 1\"","language":"typescript"}],["$","$L3",null,{"type":"info","title":"Automatic Tracking","children":"Effects automatically track all signals read inside them. No dependency array needed!"}],["$","h2",null,{"id":"lifecycle-hooks","children":"Lifecycle Hooks"}],["$","h3",null,{"children":"onMount"}],["$","p",null,{"children":"Runs once when the component is first created:"}],["$","$L2",null,{"code":"import { onMount } from 'philjs-core';\n\nfunction DataComponent() {\n  const [data, setData] = createSignal(null);\n\n  onMount(async () => {\n    console.log('Component mounted');\n    const result = await fetchData();\n    setData(result);\n  });\n\n  return <div>{data() || 'Loading...'}</div>;\n}","language":"typescript"}],["$","h3",null,{"children":"onCleanup"}],["$","p",null,{"children":"Register cleanup functions for subscriptions, timers, and event listeners:"}],["$","$L2",null,{"code":"import { onMount, onCleanup } from 'philjs-core';\n\nfunction Timer() {\n  const [seconds, setSeconds] = createSignal(0);\n\n  onMount(() => {\n    const interval = setInterval(() => {\n      setSeconds(s => s + 1);\n    }, 1000);\n\n    onCleanup(() => {\n      console.log('Cleaning up timer');\n      clearInterval(interval);\n    });\n  });\n\n  return <div>Elapsed: {seconds()}s</div>;\n}\n\n// Cleanup also works in effects\ncreateEffect(() => {\n  const subscription = observable.subscribe(value => {\n    console.log(value);\n  });\n\n  onCleanup(() => subscription.unsubscribe());\n});","language":"typescript"}],["$","h2",null,{"id":"create-memo","children":"createMemo"}],["$","p",null,{"children":"Memos are cached computed values that only recalculate when dependencies change:"}],["$","$L2",null,{"code":"import { createSignal, createMemo } from 'philjs-core';\n\nconst [firstName, setFirstName] = createSignal('John');\nconst [lastName, setLastName] = createSignal('Doe');\n\nconst fullName = createMemo(() => {\n  console.log('Computing full name');\n  return `${firstName()} ${lastName()}`;\n});\n\n// First access - computes\nconsole.log(fullName()); // Logs: \"Computing full name\", \"John Doe\"\n\n// Second access - uses cache\nconsole.log(fullName()); // Just \"John Doe\"\n\n// Update dependency - recomputes\nsetFirstName('Jane');\nconsole.log(fullName()); // Logs: \"Computing full name\", \"Jane Doe\"","language":"typescript"}],["$","h3",null,{"children":"When to Use Memos"}],["$","ul",null,{"children":[["$","li",null,{"children":"Expensive computations that should be cached"}],["$","li",null,{"children":"Derived state from multiple signals"}],["$","li",null,{"children":"Filtering or transforming lists"}],["$","li",null,{"children":"Complex calculations in JSX"}]]}],["$","$L2",null,{"code":"const [todos, setTodos] = createSignal<Todo[]>([]);\nconst [filter, setFilter] = createSignal<'all' | 'active' | 'completed'>('all');\n\n// Good: Expensive filtering is memoized\nconst filteredTodos = createMemo(() => {\n  const allTodos = todos();\n  const currentFilter = filter();\n\n  return currentFilter === 'all'\n    ? allTodos\n    : allTodos.filter(t =>\n        currentFilter === 'active' ? !t.completed : t.completed\n      );\n});\n\n// Bad: Recomputes on every render\nreturn (\n  <For each={todos().filter(t => !t.completed)}>\n    {/* ... */}\n  </For>\n);","language":"typescript"}],["$","h2",null,{"id":"effect-patterns","children":"Effect Patterns"}],["$","h3",null,{"children":"Data Fetching"}],["$","$L2",null,{"code":"function UserProfile(props: { userId: string }) {\n  const [user, setUser] = createSignal<User | null>(null);\n  const [loading, setLoading] = createSignal(true);\n  const [error, setError] = createSignal<Error | null>(null);\n\n  createEffect(() => {\n    const id = props.userId; // Track userId changes\n\n    setLoading(true);\n    setError(null);\n\n    fetch(`/api/users/${id}`)\n      .then(res => res.json())\n      .then(data => {\n        setUser(data);\n        setLoading(false);\n      })\n      .catch(err => {\n        setError(err);\n        setLoading(false);\n      });\n  });\n\n  return (\n    <Show when={!loading()} fallback={<Spinner />}>\n      <Show when={!error()} fallback={<Error error={error()!} />}>\n        <div>{user()?.name}</div>\n      </Show>\n    </Show>\n  );\n}","language":"typescript"}],["$","h3",null,{"children":"Local Storage Sync"}],["$","$L2",null,{"code":"function useLocalStorage<T>(key: string, initial: T) {\n  const [value, setValue] = createSignal<T>(initial);\n\n  // Load from localStorage on mount\n  onMount(() => {\n    const stored = localStorage.getItem(key);\n    if (stored) {\n      try {\n        setValue(JSON.parse(stored));\n      } catch (e) {\n        console.error('Failed to parse stored value:', e);\n      }\n    }\n  });\n\n  // Save to localStorage on changes\n  createEffect(() => {\n    localStorage.setItem(key, JSON.stringify(value()));\n  });\n\n  return [value, setValue] as const;\n}\n\n// Usage\nconst [theme, setTheme] = useLocalStorage('theme', 'light');","language":"typescript"}],["$","h3",null,{"children":"Event Listeners"}],["$","$L2",null,{"code":"function useWindowSize() {\n  const [width, setWidth] = createSignal(window.innerWidth);\n  const [height, setHeight] = createSignal(window.innerHeight);\n\n  onMount(() => {\n    const handleResize = () => {\n      setWidth(window.innerWidth);\n      setHeight(window.innerHeight);\n    };\n\n    window.addEventListener('resize', handleResize);\n\n    onCleanup(() => {\n      window.removeEventListener('resize', handleResize);\n    });\n  });\n\n  return { width, height };\n}\n\n// Usage\nfunction ResponsiveComponent() {\n  const { width, height } = useWindowSize();\n\n  return <div>Window size: {width()} x {height()}</div>;\n}","language":"typescript"}],["$","h2",null,{"id":"createResource","children":"createResource"}],["$","p",null,{"children":"Resources simplify async data fetching with built-in loading and error states:"}],["$","$L2",null,{"code":"import { createResource } from 'philjs-core';\n\nconst [userId, setUserId] = createSignal(1);\n\nconst [user] = createResource(\n  userId, // Source signal - refetches when this changes\n  async (id) => {\n    const res = await fetch(`/api/users/${id}`);\n    return res.json();\n  }\n);\n\nreturn (\n  <div>\n    <Show when={!user.loading} fallback={<p>Loading...</p>}>\n      <Show when={!user.error} fallback={<p>Error: {user.error.message}</p>}>\n        <h1>{user()?.name}</h1>\n      </Show>\n    </Show>\n  </div>\n);","language":"typescript"}],["$","h3",null,{"children":"Resource Methods"}],["$","$L2",null,{"code":"const [data, { refetch, mutate }] = createResource(fetcher);\n\n// Refetch the data\nrefetch();\n\n// Optimistically update\nmutate(newValue);\n\n// Check state\ndata.loading; // boolean\ndata.error; // Error | null\ndata.state; // 'pending' | 'ready' | 'refreshing' | 'errored'","language":"typescript"}],["$","h2",null,{"id":"batch","children":"Batch Updates"}],["$","$L2",null,{"code":"import { batch } from 'philjs-core';\n\nconst [firstName, setFirstName] = createSignal('John');\nconst [lastName, setLastName] = createSignal('Doe');\n\ncreateEffect(() => {\n  console.log(`${firstName()} ${lastName()}`);\n});\n\n// Without batch: effect runs twice\nsetFirstName('Jane');\nsetLastName('Smith');\n// Logs: \"Jane Doe\"\n// Logs: \"Jane Smith\"\n\n// With batch: effect runs once\nbatch(() => {\n  setFirstName('Alice');\n  setLastName('Johnson');\n});\n// Logs: \"Alice Johnson\"","language":"typescript"}],["$","h2",null,{"id":"untrack","children":"Untracked Reads"}],["$","$L2",null,{"code":"import { untrack } from 'philjs-core';\n\nconst [count, setCount] = createSignal(0);\nconst [multiplier, setMultiplier] = createSignal(2);\n\n// Effect only tracks count, not multiplier\ncreateEffect(() => {\n  const currentCount = count();\n  const currentMultiplier = untrack(multiplier);\n  console.log(currentCount * currentMultiplier);\n});\n\nsetCount(5); // Logs: 10\nsetMultiplier(3); // Doesn't log (not tracked)","language":"typescript"}],["$","h2",null,{"id":"on","children":"on() - Explicit Dependencies"}],["$","$L2",null,{"code":"import { on } from 'philjs-core';\n\nconst [a, setA] = createSignal(0);\nconst [b, setB] = createSignal(0);\n\n// Only track 'a', even though we read 'b'\ncreateEffect(\n  on(a, (value) => {\n    console.log('a changed to:', value);\n    console.log('b is:', b()); // Read but don't track\n  })\n);\n\nsetA(1); // Logs\nsetB(2); // Doesn't log","language":"typescript"}],["$","h2",null,{"id":"createDeferred","children":"createDeferred"}],["$","p",null,{"children":"Defer updates to reduce unnecessary work during rapid changes:"}],["$","$L2",null,{"code":"import { createDeferred } from 'philjs-core';\n\nconst [input, setInput] = createSignal('');\nconst deferredInput = createDeferred(input, { timeoutMs: 500 });\n\n// deferredInput only updates after 500ms of no changes\ncreateEffect(() => {\n  // Expensive operation\n  searchAPI(deferredInput());\n});\n\n// Rapid typing only triggers one search\nsetInput('h');\nsetInput('he');\nsetInput('hel');\nsetInput('hello'); // Search runs 500ms after this","language":"typescript"}],["$","h2",null,{"id":"best-practices","children":"Best Practices"}],["$","ol",null,{"children":[["$","li",null,{"children":[["$","strong",null,{"children":"Use memos for computations:"}]," Don't repeat expensive calculations"]}],["$","li",null,{"children":[["$","strong",null,{"children":"Clean up effects:"}]," Always use ",["$","code",null,{"children":"onCleanup"}]," for resources"]}],["$","li",null,{"children":[["$","strong",null,{"children":"Batch related updates:"}]," Prevent unnecessary effect runs"]}],["$","li",null,{"children":[["$","strong",null,{"children":"Use resources for async:"}]," Simpler than manual effect + state"]}],["$","li",null,{"children":[["$","strong",null,{"children":"Avoid conditional reads:"}]," Read signals at the top level of effects"]}],["$","li",null,{"children":[["$","strong",null,{"children":"Be careful with dependencies:"}]," Understand what triggers re-runs"]}]]}],["$","h2",null,{"id":"common-pitfalls","children":"Common Pitfalls"}],["$","h3",null,{"children":"Reading Signals Outside Effects"}],["$","$L2",null,{"code":"// Bad: Read outside effect\nconst value = count();\ncreateEffect(() => {\n  console.log(value); // Won't update!\n});\n\n// Good: Read inside effect\ncreateEffect(() => {\n  console.log(count()); // Updates correctly\n});","language":"typescript"}],["$","h3",null,{"children":"Infinite Loops"}],["$","$L2",null,{"code":"// Bad: Creates infinite loop\nconst [count, setCount] = createSignal(0);\ncreateEffect(() => {\n  setCount(count() + 1); // Triggers effect again!\n});\n\n// Good: Guard condition or use different approach\ncreateEffect(() => {\n  if (count() < 10) {\n    setCount(count() + 1);\n  }\n});","language":"typescript"}],["$","h2",null,{"id":"next-steps","children":"Next Steps"}],["$","div",null,{"className":"grid md:grid-cols-2 gap-4 mt-6 not-prose","children":[["$","$L4",null,{"href":"/docs/core-concepts/stores","className":"block p-4 border border-surface-200 dark:border-surface-700 rounded-lg hover:border-primary-300 dark:hover:border-primary-700 transition-colors","children":[["$","h3",null,{"className":"font-semibold text-surface-900 dark:text-white","children":"Stores"}],["$","p",null,{"className":"text-sm text-surface-600 dark:text-surface-400 mt-1","children":"Learn about nested reactive state"}]]}],["$","$L4",null,{"href":"/docs/api/core","className":"block p-4 border border-surface-200 dark:border-surface-700 rounded-lg hover:border-primary-300 dark:hover:border-primary-700 transition-colors","children":[["$","h3",null,{"className":"font-semibold text-surface-900 dark:text-white","children":"API Reference"}],["$","p",null,{"className":"text-sm text-surface-600 dark:text-surface-400 mt-1","children":"Complete philjs-core API docs"}]]}]]}]]}],null],null],null]},[null,["$","$L5",null,{"parallelRouterKey":"children","segmentPath":["children","docs","children","core-concepts","children","effects","children"],"error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L6",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":"$undefined","notFoundStyles":"$undefined"}]],null]},[null,["$","$L5",null,{"parallelRouterKey":"children","segmentPath":["children","docs","children","core-concepts","children"],"error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L6",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":"$undefined","notFoundStyles":"$undefined"}]],null]},[[null,["$","div",null,{"className":"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8","children":["$","div",null,{"className":"flex gap-12","children":[["$","$L7",null,{"sections":"$8"}],["$","main",null,{"className":"flex-1 min-w-0","children":["$","article",null,{"className":"prose prose-surface dark:prose-invert max-w-none","children":["$","$L5",null,{"parallelRouterKey":"children","segmentPath":["children","docs","children"],"error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L6",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":"$undefined","notFoundStyles":"$undefined"}]}]}]]}]}]],null],null]},[[[["$","link","0",{"rel":"stylesheet","href":"/_next/static/css/00bb994365e07be9.css","precedence":"next","crossOrigin":"$undefined"}]],["$","html",null,{"lang":"en","suppressHydrationWarning":true,"children":["$","body",null,{"className":"__variable_f367f3 __variable_3c557b font-sans antialiased","children":["$","$L9",null,{"children":["$","div",null,{"className":"min-h-screen bg-white dark:bg-surface-950","children":[["$","$La",null,{}],["$","$L5",null,{"parallelRouterKey":"children","segmentPath":["children"],"error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L6",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":[["$","title",null,{"children":"404: This page could not be found."}],["$","div",null,{"style":{"fontFamily":"system-ui,\"Segoe UI\",Roboto,Helvetica,Arial,sans-serif,\"Apple Color Emoji\",\"Segoe UI Emoji\"","height":"100vh","textAlign":"center","display":"flex","flexDirection":"column","alignItems":"center","justifyContent":"center"},"children":["$","div",null,{"children":[["$","style",null,{"dangerouslySetInnerHTML":{"__html":"body{color:#000;background:#fff;margin:0}.next-error-h1{border-right:1px solid rgba(0,0,0,.3)}@media (prefers-color-scheme:dark){body{color:#fff;background:#000}.next-error-h1{border-right:1px solid rgba(255,255,255,.3)}}"}}],["$","h1",null,{"className":"next-error-h1","style":{"display":"inline-block","margin":"0 20px 0 0","padding":"0 23px 0 0","fontSize":24,"fontWeight":500,"verticalAlign":"top","lineHeight":"49px"},"children":"404"}],["$","div",null,{"style":{"display":"inline-block"},"children":["$","h2",null,{"style":{"fontSize":14,"fontWeight":400,"lineHeight":"49px","margin":0},"children":"This page could not be found."}]}]]}]}]],"notFoundStyles":[]}]]}]}]}]}]],null],null],["$Lb",null]]]]
b:[["$","meta","0",{"name":"viewport","content":"width=device-width, initial-scale=1"}],["$","meta","1",{"charSet":"utf-8"}],["$","title","2",{"children":"Effects - Core Concepts | PhilJS"}],["$","meta","3",{"name":"description","content":"Master side effects, lifecycle management, and reactive computations in PhilJS."}],["$","meta","4",{"name":"author","content":"PhilJS Team"}],["$","link","5",{"rel":"manifest","href":"/site.webmanifest","crossOrigin":"use-credentials"}],["$","meta","6",{"name":"keywords","content":"philjs,javascript,typescript,rust,framework,signals,reactivity,wasm"}],["$","meta","7",{"property":"og:title","content":"PhilJS - The Modern Web Framework"}],["$","meta","8",{"property":"og:description","content":"A fast, modern web framework with fine-grained reactivity and optional Rust integration."}],["$","meta","9",{"property":"og:url","content":"https://philjs.dev/"}],["$","meta","10",{"property":"og:site_name","content":"PhilJS"}],["$","meta","11",{"property":"og:locale","content":"en_US"}],["$","meta","12",{"property":"og:image","content":"https://philjs.dev/og-image.png"}],["$","meta","13",{"property":"og:image:width","content":"1200"}],["$","meta","14",{"property":"og:image:height","content":"630"}],["$","meta","15",{"property":"og:image:alt","content":"PhilJS Framework"}],["$","meta","16",{"property":"og:type","content":"website"}],["$","meta","17",{"name":"twitter:card","content":"summary_large_image"}],["$","meta","18",{"name":"twitter:title","content":"PhilJS - The Modern Web Framework"}],["$","meta","19",{"name":"twitter:description","content":"A fast, modern web framework with fine-grained reactivity and optional Rust integration."}],["$","meta","20",{"name":"twitter:image","content":"https://philjs.dev/og-image.png"}],["$","link","21",{"rel":"shortcut icon","href":"/favicon-16x16.png"}],["$","link","22",{"rel":"icon","href":"/favicon.ico"}],["$","link","23",{"rel":"apple-touch-icon","href":"/apple-touch-icon.png"}]]
1:null
