<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="/_next/static/css/00bb994365e07be9.css" data-precedence="next"/><link rel="preload" as="script" fetchPriority="low" href="/_next/static/chunks/webpack-d559140f0ba095e2.js"/><script src="/_next/static/chunks/4abd2472-046369a33e3cef94.js" async=""></script><script src="/_next/static/chunks/4794-b7e3fb93e9030554.js" async=""></script><script src="/_next/static/chunks/main-app-ca8bed4e8e7e0f69.js" async=""></script><script src="/_next/static/chunks/1763-be59ea8b08cc01ae.js" async=""></script><script src="/_next/static/chunks/7696-3ed40d5e79880c18.js" async=""></script><script src="/_next/static/chunks/app/docs/guides/ssr-hydration/page-b952b9af769833bf.js" async=""></script><script src="/_next/static/chunks/app/docs/layout-7a64e01358952c8e.js" async=""></script><script src="/_next/static/chunks/2793-28ddd1020ce77999.js" async=""></script><script src="/_next/static/chunks/app/layout-575709e7d70e2afe.js" async=""></script><title>SSR &amp; Hydration Guide | PhilJS</title><meta name="description" content="Server-side rendering, hydration strategies, and streaming in PhilJS."/><meta name="author" content="PhilJS Team"/><link rel="manifest" href="/site.webmanifest" crossorigin="use-credentials"/><meta name="keywords" content="philjs,javascript,typescript,rust,framework,signals,reactivity,wasm"/><meta property="og:title" content="PhilJS - The Modern Web Framework"/><meta property="og:description" content="A fast, modern web framework with fine-grained reactivity and optional Rust integration."/><meta property="og:url" content="https://philjs.dev/"/><meta property="og:site_name" content="PhilJS"/><meta property="og:locale" content="en_US"/><meta property="og:image" content="https://philjs.dev/og-image.png"/><meta property="og:image:width" content="1200"/><meta property="og:image:height" content="630"/><meta property="og:image:alt" content="PhilJS Framework"/><meta property="og:type" content="website"/><meta name="twitter:card" content="summary_large_image"/><meta name="twitter:title" content="PhilJS - The Modern Web Framework"/><meta name="twitter:description" content="A fast, modern web framework with fine-grained reactivity and optional Rust integration."/><meta name="twitter:image" content="https://philjs.dev/og-image.png"/><link rel="shortcut icon" href="/favicon-16x16.png"/><link rel="icon" href="/favicon.ico"/><link rel="apple-touch-icon" href="/apple-touch-icon.png"/><script src="/_next/static/chunks/polyfills-42372ed130431b0a.js" noModule=""></script></head><body class="__variable_f367f3 __variable_3c557b font-sans antialiased"><div style="visibility:hidden"><div class="min-h-screen bg-white dark:bg-surface-950"><header class="sticky top-0 z-50 w-full border-b border-surface-200 dark:border-surface-800 bg-white/80 dark:bg-surface-950/80 backdrop-blur-sm"><nav class="mx-auto max-w-7xl px-4 sm:px-6 lg:px-8" aria-label="Top"><div class="flex h-16 items-center justify-between"><div class="flex items-center"><a class="flex items-center gap-2" href="/"><div class="w-8 h-8 bg-primary-600 rounded-lg flex items-center justify-center"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-zap w-5 h-5 text-white"><polygon points="13 2 3 14 12 14 11 22 21 10 12 10 13 2"></polygon></svg></div><span class="text-xl font-bold text-surface-900 dark:text-white">PhilJS</span></a><span class="ml-3 hidden sm:inline-flex items-center rounded-full bg-primary-100 dark:bg-primary-900/30 px-2.5 py-0.5 text-xs font-medium text-primary-800 dark:text-primary-200">v2.0</span></div><div class="hidden md:flex md:items-center md:gap-x-6"><a class="text-sm font-medium transition-colors text-surface-600 hover:text-surface-900 dark:text-surface-400 dark:hover:text-white" href="/docs/getting-started/installation/">Docs</a><a class="text-sm font-medium transition-colors text-surface-600 hover:text-surface-900 dark:text-surface-400 dark:hover:text-white" href="/docs/api/core/">API</a><a class="text-sm font-medium transition-colors text-primary-600 dark:text-primary-400" href="/docs/guides/ssr-hydration/">Guides</a><a class="text-sm font-medium transition-colors text-surface-600 hover:text-surface-900 dark:text-surface-400 dark:hover:text-white" href="/docs/rust-guide/quickstart/">Rust</a><a class="text-sm font-medium transition-colors text-surface-600 hover:text-surface-900 dark:text-surface-400 dark:hover:text-white" href="/playground/">Playground</a></div><div class="flex items-center gap-4"><button class="flex items-center gap-2 rounded-lg border border-surface-200 dark:border-surface-700 px-3 py-1.5 text-sm text-surface-500 dark:text-surface-400 hover:border-surface-300 dark:hover:border-surface-600 transition-colors"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-search h-4 w-4"><circle cx="11" cy="11" r="8"></circle><path d="m21 21-4.3-4.3"></path></svg><span class="hidden sm:inline">Search...</span><kbd class="hidden sm:inline-block ml-2 text-xs font-sans bg-surface-100 dark:bg-surface-800 px-1.5 py-0.5 rounded">Ctrl+K</kbd></button><button class="p-2 rounded-lg text-surface-600 dark:text-surface-400 hover:bg-surface-100 dark:hover:bg-surface-800 transition-colors" aria-label="Toggle theme"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-moon h-5 w-5"><path d="M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z"></path></svg></button><a href="https://github.com/philjs/philjs" class="hidden sm:block p-2 rounded-lg text-surface-600 dark:text-surface-400 hover:bg-surface-100 dark:hover:bg-surface-800 transition-colors" aria-label="GitHub repository"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-github h-5 w-5"><path d="M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4"></path><path d="M9 18c-4.51 2-5-2-7-2"></path></svg></a><button type="button" class="md:hidden p-2 rounded-lg text-surface-600 dark:text-surface-400 hover:bg-surface-100 dark:hover:bg-surface-800 transition-colors"><span class="sr-only">Open menu</span><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-menu h-6 w-6"><line x1="4" x2="20" y1="12" y2="12"></line><line x1="4" x2="20" y1="6" y2="6"></line><line x1="4" x2="20" y1="18" y2="18"></line></svg></button></div></div></nav></header><div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8"><div class="flex gap-12"><nav class="w-64 flex-shrink-0"><div class="sticky top-20 h-[calc(100vh-5rem)] overflow-y-auto pb-10 pr-4"><ul class="space-y-6"><li><button class="flex items-center justify-between w-full text-left font-semibold text-surface-900 dark:text-white mb-2">Getting Started<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-chevron-right w-4 h-4 transition-transform"><path d="m9 18 6-6-6-6"></path></svg></button></li><li><button class="flex items-center justify-between w-full text-left font-semibold text-surface-900 dark:text-white mb-2">Tutorials<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-chevron-right w-4 h-4 transition-transform"><path d="m9 18 6-6-6-6"></path></svg></button></li><li><button class="flex items-center justify-between w-full text-left font-semibold text-surface-900 dark:text-white mb-2">Core Concepts<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-chevron-right w-4 h-4 transition-transform"><path d="m9 18 6-6-6-6"></path></svg></button></li><li><button class="flex items-center justify-between w-full text-left font-semibold text-surface-900 dark:text-white mb-2">Guides<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-chevron-right w-4 h-4 transition-transform rotate-90"><path d="m9 18 6-6-6-6"></path></svg></button><ul class="space-y-1 border-l border-surface-200 dark:border-surface-700 pl-4 animate-slide-in"><li><a class="block py-1.5 px-3 text-sm rounded-lg transition-colors -ml-px border-l-2 text-surface-600 dark:text-surface-400 hover:text-surface-900 dark:hover:text-white border-transparent hover:border-surface-300 dark:hover:border-surface-600" href="/docs/guides/ssr-hydration/">SSR &amp; Hydration</a></li><li><a class="block py-1.5 px-3 text-sm rounded-lg transition-colors -ml-px border-l-2 text-surface-600 dark:text-surface-400 hover:text-surface-900 dark:hover:text-white border-transparent hover:border-surface-300 dark:hover:border-surface-600" href="/docs/guides/islands/">Islands Architecture</a></li><li><a class="block py-1.5 px-3 text-sm rounded-lg transition-colors -ml-px border-l-2 text-surface-600 dark:text-surface-400 hover:text-surface-900 dark:hover:text-white border-transparent hover:border-surface-300 dark:hover:border-surface-600" href="/docs/guides/liveview/">LiveView</a></li><li><a class="block py-1.5 px-3 text-sm rounded-lg transition-colors -ml-px border-l-2 text-surface-600 dark:text-surface-400 hover:text-surface-900 dark:hover:text-white border-transparent hover:border-surface-300 dark:hover:border-surface-600" href="/docs/guides/routing/">Routing</a></li><li><a class="block py-1.5 px-3 text-sm rounded-lg transition-colors -ml-px border-l-2 text-surface-600 dark:text-surface-400 hover:text-surface-900 dark:hover:text-white border-transparent hover:border-surface-300 dark:hover:border-surface-600" href="/docs/guides/forms/">Forms</a></li><li><a class="block py-1.5 px-3 text-sm rounded-lg transition-colors -ml-px border-l-2 text-surface-600 dark:text-surface-400 hover:text-surface-900 dark:hover:text-white border-transparent hover:border-surface-300 dark:hover:border-surface-600" href="/docs/guides/styling/">Styling</a></li><li><a class="block py-1.5 px-3 text-sm rounded-lg transition-colors -ml-px border-l-2 text-surface-600 dark:text-surface-400 hover:text-surface-900 dark:hover:text-white border-transparent hover:border-surface-300 dark:hover:border-surface-600" href="/docs/guides/state-management/">State Management</a></li><li><a class="block py-1.5 px-3 text-sm rounded-lg transition-colors -ml-px border-l-2 text-surface-600 dark:text-surface-400 hover:text-surface-900 dark:hover:text-white border-transparent hover:border-surface-300 dark:hover:border-surface-600" href="/docs/guides/data-fetching/">Data Fetching</a></li><li><a class="block py-1.5 px-3 text-sm rounded-lg transition-colors -ml-px border-l-2 text-surface-600 dark:text-surface-400 hover:text-surface-900 dark:hover:text-white border-transparent hover:border-surface-300 dark:hover:border-surface-600" href="/docs/guides/auth/">Authentication</a></li><li><a class="block py-1.5 px-3 text-sm rounded-lg transition-colors -ml-px border-l-2 text-surface-600 dark:text-surface-400 hover:text-surface-900 dark:hover:text-white border-transparent hover:border-surface-300 dark:hover:border-surface-600" href="/docs/guides/deployment/">Deployment</a></li></ul></li><li><button class="flex items-center justify-between w-full text-left font-semibold text-surface-900 dark:text-white mb-2">API Reference<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-chevron-right w-4 h-4 transition-transform"><path d="m9 18 6-6-6-6"></path></svg></button></li><li><button class="flex items-center justify-between w-full text-left font-semibold text-surface-900 dark:text-white mb-2">Rust Guide<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-chevron-right w-4 h-4 transition-transform"><path d="m9 18 6-6-6-6"></path></svg></button></li><li><button class="flex items-center justify-between w-full text-left font-semibold text-surface-900 dark:text-white mb-2">Comparison<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-chevron-right w-4 h-4 transition-transform"><path d="m9 18 6-6-6-6"></path></svg></button></li><li><button class="flex items-center justify-between w-full text-left font-semibold text-surface-900 dark:text-white mb-2">Examples<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-chevron-right w-4 h-4 transition-transform"><path d="m9 18 6-6-6-6"></path></svg></button></li></ul></div></nav><main class="flex-1 min-w-0"><article class="prose prose-surface dark:prose-invert max-w-none"><div class="mdx-content"><h1>SSR &amp; Hydration</h1><p class="lead text-xl text-surface-600 dark:text-surface-400">PhilJS provides multiple rendering strategies including SSR, streaming, islands architecture, and resumability for optimal performance.</p><h2 id="rendering-modes">Rendering Modes</h2><table><thead><tr><th>Mode</th><th>Description</th><th>Use Case</th></tr></thead><tbody><tr><td><strong>SPA</strong></td><td>Client-side rendering only</td><td>Dashboards, internal tools</td></tr><tr><td><strong>SSR</strong></td><td>Server renders, client hydrates</td><td>SEO-critical pages, content sites</td></tr><tr><td><strong>SSG</strong></td><td>Pre-rendered at build time</td><td>Blogs, docs, marketing sites</td></tr><tr><td><strong>Islands</strong></td><td>Static shell, interactive islands</td><td>Content-heavy with some interactivity</td></tr><tr><td><strong>Streaming</strong></td><td>Progressive HTML streaming</td><td>Fast TTFB with async data</td></tr><tr><td><strong>Resumable</strong></td><td>No hydration, instant interactivity</td><td>Maximum performance</td></tr></tbody></table><h2 id="basic-ssr">Basic SSR Setup</h2><p>Enable SSR by rendering on the server and hydrating on the client:</p><div class="relative group"><div class="flex items-center justify-between px-4 py-2 bg-surface-800 border-b border-surface-700 rounded-t-lg"><span class="text-sm text-surface-400 font-mono">server.ts</span><span class="text-xs text-surface-500 uppercase">typescript</span></div><div class="relative"><pre class="bg-surface-900 text-surface-100 p-4 overflow-x-auto text-sm leading-relaxed rounded-b-lg"><code class="font-mono"><div class="flex"><span class="select-none text-surface-500 w-10 flex-shrink-0 text-right pr-4">1</span><span class="flex-1">// server.ts</span></div><div class="flex"><span class="select-none text-surface-500 w-10 flex-shrink-0 text-right pr-4">2</span><span class="flex-1">import { renderToString } from &#x27;philjs-ssr&#x27;;</span></div><div class="flex"><span class="select-none text-surface-500 w-10 flex-shrink-0 text-right pr-4">3</span><span class="flex-1">import App from &#x27;./App&#x27;;</span></div><div class="flex"><span class="select-none text-surface-500 w-10 flex-shrink-0 text-right pr-4">4</span><span class="flex-1"> </span></div><div class="flex"><span class="select-none text-surface-500 w-10 flex-shrink-0 text-right pr-4">5</span><span class="flex-1">const handler = async (req: Request) =&gt; {</span></div><div class="flex"><span class="select-none text-surface-500 w-10 flex-shrink-0 text-right pr-4">6</span><span class="flex-1">  const url = new URL(req.url);</span></div><div class="flex"><span class="select-none text-surface-500 w-10 flex-shrink-0 text-right pr-4">7</span><span class="flex-1"> </span></div><div class="flex"><span class="select-none text-surface-500 w-10 flex-shrink-0 text-right pr-4">8</span><span class="flex-1">  const html = await renderToString(() =&gt; (</span></div><div class="flex"><span class="select-none text-surface-500 w-10 flex-shrink-0 text-right pr-4">9</span><span class="flex-1">    &lt;App url={url.pathname} /&gt;</span></div><div class="flex"><span class="select-none text-surface-500 w-10 flex-shrink-0 text-right pr-4">10</span><span class="flex-1">  ));</span></div><div class="flex"><span class="select-none text-surface-500 w-10 flex-shrink-0 text-right pr-4">11</span><span class="flex-1"> </span></div><div class="flex"><span class="select-none text-surface-500 w-10 flex-shrink-0 text-right pr-4">12</span><span class="flex-1">  return new Response(`</span></div><div class="flex"><span class="select-none text-surface-500 w-10 flex-shrink-0 text-right pr-4">13</span><span class="flex-1">    &lt;!DOCTYPE html&gt;</span></div><div class="flex"><span class="select-none text-surface-500 w-10 flex-shrink-0 text-right pr-4">14</span><span class="flex-1">    &lt;html&gt;</span></div><div class="flex"><span class="select-none text-surface-500 w-10 flex-shrink-0 text-right pr-4">15</span><span class="flex-1">      &lt;head&gt;</span></div><div class="flex"><span class="select-none text-surface-500 w-10 flex-shrink-0 text-right pr-4">16</span><span class="flex-1">        &lt;link rel=&quot;stylesheet&quot; href=&quot;/styles.css&quot; /&gt;</span></div><div class="flex"><span class="select-none text-surface-500 w-10 flex-shrink-0 text-right pr-4">17</span><span class="flex-1">      &lt;/head&gt;</span></div><div class="flex"><span class="select-none text-surface-500 w-10 flex-shrink-0 text-right pr-4">18</span><span class="flex-1">      &lt;body&gt;</span></div><div class="flex"><span class="select-none text-surface-500 w-10 flex-shrink-0 text-right pr-4">19</span><span class="flex-1">        &lt;div id=&quot;app&quot;&gt;${html}&lt;/div&gt;</span></div><div class="flex"><span class="select-none text-surface-500 w-10 flex-shrink-0 text-right pr-4">20</span><span class="flex-1">        &lt;script type=&quot;module&quot; src=&quot;/client.js&quot;&gt;&lt;/script&gt;</span></div><div class="flex"><span class="select-none text-surface-500 w-10 flex-shrink-0 text-right pr-4">21</span><span class="flex-1">      &lt;/body&gt;</span></div><div class="flex"><span class="select-none text-surface-500 w-10 flex-shrink-0 text-right pr-4">22</span><span class="flex-1">    &lt;/html&gt;</span></div><div class="flex"><span class="select-none text-surface-500 w-10 flex-shrink-0 text-right pr-4">23</span><span class="flex-1">  `, {</span></div><div class="flex"><span class="select-none text-surface-500 w-10 flex-shrink-0 text-right pr-4">24</span><span class="flex-1">    headers: { &#x27;Content-Type&#x27;: &#x27;text/html&#x27; },</span></div><div class="flex"><span class="select-none text-surface-500 w-10 flex-shrink-0 text-right pr-4">25</span><span class="flex-1">  });</span></div><div class="flex"><span class="select-none text-surface-500 w-10 flex-shrink-0 text-right pr-4">26</span><span class="flex-1">};</span></div></code></pre><button class="absolute right-2 top-2 p-2 rounded-md transition-all opacity-0 group-hover:opacity-100 bg-surface-700 text-surface-300 hover:bg-surface-600 hover:text-white" aria-label="Copy code"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-copy w-4 h-4"><rect width="14" height="14" x="8" y="8" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg></button></div></div><div class="relative group"><div class="flex items-center justify-between px-4 py-2 bg-surface-800 border-b border-surface-700 rounded-t-lg"><span class="text-sm text-surface-400 font-mono">client.ts</span><span class="text-xs text-surface-500 uppercase">typescript</span></div><div class="relative"><pre class="bg-surface-900 text-surface-100 p-4 overflow-x-auto text-sm leading-relaxed rounded-b-lg"><code class="font-mono"><div class="flex"><span class="select-none text-surface-500 w-10 flex-shrink-0 text-right pr-4">1</span><span class="flex-1">// client.ts</span></div><div class="flex"><span class="select-none text-surface-500 w-10 flex-shrink-0 text-right pr-4">2</span><span class="flex-1">import { hydrate } from &#x27;philjs-core&#x27;;</span></div><div class="flex"><span class="select-none text-surface-500 w-10 flex-shrink-0 text-right pr-4">3</span><span class="flex-1">import App from &#x27;./App&#x27;;</span></div><div class="flex"><span class="select-none text-surface-500 w-10 flex-shrink-0 text-right pr-4">4</span><span class="flex-1"> </span></div><div class="flex"><span class="select-none text-surface-500 w-10 flex-shrink-0 text-right pr-4">5</span><span class="flex-1">hydrate(</span></div><div class="flex"><span class="select-none text-surface-500 w-10 flex-shrink-0 text-right pr-4">6</span><span class="flex-1">  document.getElementById(&#x27;app&#x27;)!,</span></div><div class="flex"><span class="select-none text-surface-500 w-10 flex-shrink-0 text-right pr-4">7</span><span class="flex-1">  () =&gt; &lt;App url={window.location.pathname} /&gt;</span></div><div class="flex"><span class="select-none text-surface-500 w-10 flex-shrink-0 text-right pr-4">8</span><span class="flex-1">);</span></div></code></pre><button class="absolute right-2 top-2 p-2 rounded-md transition-all opacity-0 group-hover:opacity-100 bg-surface-700 text-surface-300 hover:bg-surface-600 hover:text-white" aria-label="Copy code"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-copy w-4 h-4"><rect width="14" height="14" x="8" y="8" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg></button></div></div><h2 id="streaming">Streaming SSR</h2><p>Stream HTML progressively for faster Time to First Byte:</p><div class="relative group"><div class="flex items-center justify-between px-4 py-2 bg-surface-800 border-b border-surface-700 rounded-t-lg"><span class="text-sm text-surface-400 font-mono">streaming-server.ts</span><span class="text-xs text-surface-500 uppercase">typescript</span></div><div class="relative"><pre class="bg-surface-900 text-surface-100 p-4 overflow-x-auto text-sm leading-relaxed rounded-b-lg"><code class="font-mono"><div class="flex"><span class="select-none text-surface-500 w-10 flex-shrink-0 text-right pr-4">1</span><span class="flex-1">import { renderToStream } from &#x27;philjs-ssr&#x27;;</span></div><div class="flex"><span class="select-none text-surface-500 w-10 flex-shrink-0 text-right pr-4">2</span><span class="flex-1">import App from &#x27;./App&#x27;;</span></div><div class="flex"><span class="select-none text-surface-500 w-10 flex-shrink-0 text-right pr-4">3</span><span class="flex-1"> </span></div><div class="flex"><span class="select-none text-surface-500 w-10 flex-shrink-0 text-right pr-4">4</span><span class="flex-1">const handler = async (req: Request) =&gt; {</span></div><div class="flex"><span class="select-none text-surface-500 w-10 flex-shrink-0 text-right pr-4">5</span><span class="flex-1">  const stream = renderToStream(() =&gt; &lt;App /&gt;);</span></div><div class="flex"><span class="select-none text-surface-500 w-10 flex-shrink-0 text-right pr-4">6</span><span class="flex-1"> </span></div><div class="flex"><span class="select-none text-surface-500 w-10 flex-shrink-0 text-right pr-4">7</span><span class="flex-1">  return new Response(stream, {</span></div><div class="flex"><span class="select-none text-surface-500 w-10 flex-shrink-0 text-right pr-4">8</span><span class="flex-1">    headers: {</span></div><div class="flex"><span class="select-none text-surface-500 w-10 flex-shrink-0 text-right pr-4">9</span><span class="flex-1">      &#x27;Content-Type&#x27;: &#x27;text/html&#x27;,</span></div><div class="flex"><span class="select-none text-surface-500 w-10 flex-shrink-0 text-right pr-4">10</span><span class="flex-1">      &#x27;Transfer-Encoding&#x27;: &#x27;chunked&#x27;,</span></div><div class="flex"><span class="select-none text-surface-500 w-10 flex-shrink-0 text-right pr-4">11</span><span class="flex-1">    },</span></div><div class="flex"><span class="select-none text-surface-500 w-10 flex-shrink-0 text-right pr-4">12</span><span class="flex-1">  });</span></div><div class="flex"><span class="select-none text-surface-500 w-10 flex-shrink-0 text-right pr-4">13</span><span class="flex-1">};</span></div></code></pre><button class="absolute right-2 top-2 p-2 rounded-md transition-all opacity-0 group-hover:opacity-100 bg-surface-700 text-surface-300 hover:bg-surface-600 hover:text-white" aria-label="Copy code"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-copy w-4 h-4"><rect width="14" height="14" x="8" y="8" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg></button></div></div><h3 id="suspense-streaming">Streaming with Suspense</h3><p>Combine streaming with Suspense for progressive loading:</p><div class="relative group"><div class="flex items-center justify-between px-4 py-2 bg-surface-800 border-b border-surface-700 rounded-t-lg"><span class="text-sm text-surface-400 font-mono">StreamingApp.tsx</span><span class="text-xs text-surface-500 uppercase">tsx</span></div><div class="relative"><pre class="bg-surface-900 text-surface-100 p-4 overflow-x-auto text-sm leading-relaxed rounded-b-lg"><code class="font-mono"><div class="flex"><span class="select-none text-surface-500 w-10 flex-shrink-0 text-right pr-4">1</span><span class="flex-1">import { Suspense, createResource } from &#x27;philjs-core&#x27;;</span></div><div class="flex"><span class="select-none text-surface-500 w-10 flex-shrink-0 text-right pr-4">2</span><span class="flex-1"> </span></div><div class="flex"><span class="select-none text-surface-500 w-10 flex-shrink-0 text-right pr-4">3</span><span class="flex-1">function App() {</span></div><div class="flex"><span class="select-none text-surface-500 w-10 flex-shrink-0 text-right pr-4">4</span><span class="flex-1">  return (</span></div><div class="flex"><span class="select-none text-surface-500 w-10 flex-shrink-0 text-right pr-4">5</span><span class="flex-1">    &lt;html&gt;</span></div><div class="flex"><span class="select-none text-surface-500 w-10 flex-shrink-0 text-right pr-4">6</span><span class="flex-1">      &lt;head&gt;</span></div><div class="flex"><span class="select-none text-surface-500 w-10 flex-shrink-0 text-right pr-4">7</span><span class="flex-1">        &lt;title&gt;My App&lt;/title&gt;</span></div><div class="flex"><span class="select-none text-surface-500 w-10 flex-shrink-0 text-right pr-4">8</span><span class="flex-1">      &lt;/head&gt;</span></div><div class="flex"><span class="select-none text-surface-500 w-10 flex-shrink-0 text-right pr-4">9</span><span class="flex-1">      &lt;body&gt;</span></div><div class="flex"><span class="select-none text-surface-500 w-10 flex-shrink-0 text-right pr-4">10</span><span class="flex-1">        {/* This renders immediately */}</span></div><div class="flex"><span class="select-none text-surface-500 w-10 flex-shrink-0 text-right pr-4">11</span><span class="flex-1">        &lt;Header /&gt;</span></div><div class="flex"><span class="select-none text-surface-500 w-10 flex-shrink-0 text-right pr-4">12</span><span class="flex-1"> </span></div><div class="flex"><span class="select-none text-surface-500 w-10 flex-shrink-0 text-right pr-4">13</span><span class="flex-1">        {/* This streams when data is ready */}</span></div><div class="flex"><span class="select-none text-surface-500 w-10 flex-shrink-0 text-right pr-4">14</span><span class="flex-1">        &lt;Suspense fallback={&lt;ArticleSkeleton /&gt;}&gt;</span></div><div class="flex"><span class="select-none text-surface-500 w-10 flex-shrink-0 text-right pr-4">15</span><span class="flex-1">          &lt;ArticleContent /&gt;</span></div><div class="flex"><span class="select-none text-surface-500 w-10 flex-shrink-0 text-right pr-4">16</span><span class="flex-1">        &lt;/Suspense&gt;</span></div><div class="flex"><span class="select-none text-surface-500 w-10 flex-shrink-0 text-right pr-4">17</span><span class="flex-1"> </span></div><div class="flex"><span class="select-none text-surface-500 w-10 flex-shrink-0 text-right pr-4">18</span><span class="flex-1">        {/* This also streams when ready */}</span></div><div class="flex"><span class="select-none text-surface-500 w-10 flex-shrink-0 text-right pr-4">19</span><span class="flex-1">        &lt;Suspense fallback={&lt;CommentsSkeleton /&gt;}&gt;</span></div><div class="flex"><span class="select-none text-surface-500 w-10 flex-shrink-0 text-right pr-4">20</span><span class="flex-1">          &lt;Comments /&gt;</span></div><div class="flex"><span class="select-none text-surface-500 w-10 flex-shrink-0 text-right pr-4">21</span><span class="flex-1">        &lt;/Suspense&gt;</span></div><div class="flex"><span class="select-none text-surface-500 w-10 flex-shrink-0 text-right pr-4">22</span><span class="flex-1"> </span></div><div class="flex"><span class="select-none text-surface-500 w-10 flex-shrink-0 text-right pr-4">23</span><span class="flex-1">        &lt;Footer /&gt;</span></div><div class="flex"><span class="select-none text-surface-500 w-10 flex-shrink-0 text-right pr-4">24</span><span class="flex-1">      &lt;/body&gt;</span></div><div class="flex"><span class="select-none text-surface-500 w-10 flex-shrink-0 text-right pr-4">25</span><span class="flex-1">    &lt;/html&gt;</span></div><div class="flex"><span class="select-none text-surface-500 w-10 flex-shrink-0 text-right pr-4">26</span><span class="flex-1">  );</span></div><div class="flex"><span class="select-none text-surface-500 w-10 flex-shrink-0 text-right pr-4">27</span><span class="flex-1">}</span></div><div class="flex"><span class="select-none text-surface-500 w-10 flex-shrink-0 text-right pr-4">28</span><span class="flex-1"> </span></div><div class="flex"><span class="select-none text-surface-500 w-10 flex-shrink-0 text-right pr-4">29</span><span class="flex-1">function ArticleContent() {</span></div><div class="flex"><span class="select-none text-surface-500 w-10 flex-shrink-0 text-right pr-4">30</span><span class="flex-1">  // Data fetching inside component</span></div><div class="flex"><span class="select-none text-surface-500 w-10 flex-shrink-0 text-right pr-4">31</span><span class="flex-1">  const [article] = createResource(() =&gt; fetchArticle());</span></div><div class="flex"><span class="select-none text-surface-500 w-10 flex-shrink-0 text-right pr-4">32</span><span class="flex-1"> </span></div><div class="flex"><span class="select-none text-surface-500 w-10 flex-shrink-0 text-right pr-4">33</span><span class="flex-1">  return (</span></div><div class="flex"><span class="select-none text-surface-500 w-10 flex-shrink-0 text-right pr-4">34</span><span class="flex-1">    &lt;article&gt;</span></div><div class="flex"><span class="select-none text-surface-500 w-10 flex-shrink-0 text-right pr-4">35</span><span class="flex-1">      &lt;h1&gt;{article()?.title}&lt;/h1&gt;</span></div><div class="flex"><span class="select-none text-surface-500 w-10 flex-shrink-0 text-right pr-4">36</span><span class="flex-1">      &lt;div innerHTML={article()?.content} /&gt;</span></div><div class="flex"><span class="select-none text-surface-500 w-10 flex-shrink-0 text-right pr-4">37</span><span class="flex-1">    &lt;/article&gt;</span></div><div class="flex"><span class="select-none text-surface-500 w-10 flex-shrink-0 text-right pr-4">38</span><span class="flex-1">  );</span></div><div class="flex"><span class="select-none text-surface-500 w-10 flex-shrink-0 text-right pr-4">39</span><span class="flex-1">}</span></div></code></pre><button class="absolute right-2 top-2 p-2 rounded-md transition-all opacity-0 group-hover:opacity-100 bg-surface-700 text-surface-300 hover:bg-surface-600 hover:text-white" aria-label="Copy code"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-copy w-4 h-4"><rect width="14" height="14" x="8" y="8" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg></button></div></div><div class="p-4 rounded-lg border-l-4 my-4 bg-blue-50 dark:bg-blue-900/20 border-blue-500 text-blue-800 dark:text-blue-200"><div class="flex items-start gap-3"><span class="flex-shrink-0 w-6 h-6 rounded-full bg-current/10 flex items-center justify-center font-bold text-sm">i</span><div><p class="font-semibold mb-1">How Streaming Works</p><div class="prose-sm dark:prose-invert">The server sends the shell immediately, then streams in Suspense content as it resolves. The client receives chunks progressively and can start parsing/rendering before the full response completes.</div></div></div></div><h2 id="islands">Islands Architecture</h2><p>Render a static HTML shell with interactive &quot;islands&quot; that hydrate independently:</p><div class="relative group"><div class="flex items-center justify-between px-4 py-2 bg-surface-800 border-b border-surface-700 rounded-t-lg"><span class="text-sm text-surface-400 font-mono">ProductPage.tsx</span><span class="text-xs text-surface-500 uppercase">tsx</span></div><div class="relative"><pre class="bg-surface-900 text-surface-100 p-4 overflow-x-auto text-sm leading-relaxed rounded-b-lg"><code class="font-mono"><div class="flex"><span class="select-none text-surface-500 w-10 flex-shrink-0 text-right pr-4">1</span><span class="flex-1">import { Island } from &#x27;philjs-ssr&#x27;;</span></div><div class="flex"><span class="select-none text-surface-500 w-10 flex-shrink-0 text-right pr-4">2</span><span class="flex-1"> </span></div><div class="flex"><span class="select-none text-surface-500 w-10 flex-shrink-0 text-right pr-4">3</span><span class="flex-1">function ProductPage({ product }: { product: Product }) {</span></div><div class="flex"><span class="select-none text-surface-500 w-10 flex-shrink-0 text-right pr-4">4</span><span class="flex-1">  return (</span></div><div class="flex"><span class="select-none text-surface-500 w-10 flex-shrink-0 text-right pr-4">5</span><span class="flex-1">    &lt;div&gt;</span></div><div class="flex"><span class="select-none text-surface-500 w-10 flex-shrink-0 text-right pr-4">6</span><span class="flex-1">      {/* Static content - no JS */}</span></div><div class="flex"><span class="select-none text-surface-500 w-10 flex-shrink-0 text-right pr-4">7</span><span class="flex-1">      &lt;header&gt;</span></div><div class="flex"><span class="select-none text-surface-500 w-10 flex-shrink-0 text-right pr-4">8</span><span class="flex-1">        &lt;nav&gt;...&lt;/nav&gt;</span></div><div class="flex"><span class="select-none text-surface-500 w-10 flex-shrink-0 text-right pr-4">9</span><span class="flex-1">      &lt;/header&gt;</span></div><div class="flex"><span class="select-none text-surface-500 w-10 flex-shrink-0 text-right pr-4">10</span><span class="flex-1"> </span></div><div class="flex"><span class="select-none text-surface-500 w-10 flex-shrink-0 text-right pr-4">11</span><span class="flex-1">      &lt;main&gt;</span></div><div class="flex"><span class="select-none text-surface-500 w-10 flex-shrink-0 text-right pr-4">12</span><span class="flex-1">        &lt;h1&gt;{product.name}&lt;/h1&gt;</span></div><div class="flex"><span class="select-none text-surface-500 w-10 flex-shrink-0 text-right pr-4">13</span><span class="flex-1">        &lt;img src={product.image} alt={product.name} /&gt;</span></div><div class="flex"><span class="select-none text-surface-500 w-10 flex-shrink-0 text-right pr-4">14</span><span class="flex-1">        &lt;p&gt;{product.description}&lt;/p&gt;</span></div><div class="flex"><span class="select-none text-surface-500 w-10 flex-shrink-0 text-right pr-4">15</span><span class="flex-1"> </span></div><div class="flex"><span class="select-none text-surface-500 w-10 flex-shrink-0 text-right pr-4">16</span><span class="flex-1">        {/* Interactive island - hydrates independently */}</span></div><div class="flex"><span class="select-none text-surface-500 w-10 flex-shrink-0 text-right pr-4">17</span><span class="flex-1">        &lt;Island component={AddToCartButton} props={{ productId: product.id }}&gt;</span></div><div class="flex"><span class="select-none text-surface-500 w-10 flex-shrink-0 text-right pr-4">18</span><span class="flex-1">          &lt;button disabled&gt;Add to Cart&lt;/button&gt;</span></div><div class="flex"><span class="select-none text-surface-500 w-10 flex-shrink-0 text-right pr-4">19</span><span class="flex-1">        &lt;/Island&gt;</span></div><div class="flex"><span class="select-none text-surface-500 w-10 flex-shrink-0 text-right pr-4">20</span><span class="flex-1"> </span></div><div class="flex"><span class="select-none text-surface-500 w-10 flex-shrink-0 text-right pr-4">21</span><span class="flex-1">        {/* Another island */}</span></div><div class="flex"><span class="select-none text-surface-500 w-10 flex-shrink-0 text-right pr-4">22</span><span class="flex-1">        &lt;Island component={ProductReviews} props={{ productId: product.id }}&gt;</span></div><div class="flex"><span class="select-none text-surface-500 w-10 flex-shrink-0 text-right pr-4">23</span><span class="flex-1">          &lt;div&gt;Loading reviews...&lt;/div&gt;</span></div><div class="flex"><span class="select-none text-surface-500 w-10 flex-shrink-0 text-right pr-4">24</span><span class="flex-1">        &lt;/Island&gt;</span></div><div class="flex"><span class="select-none text-surface-500 w-10 flex-shrink-0 text-right pr-4">25</span><span class="flex-1">      &lt;/main&gt;</span></div><div class="flex"><span class="select-none text-surface-500 w-10 flex-shrink-0 text-right pr-4">26</span><span class="flex-1"> </span></div><div class="flex"><span class="select-none text-surface-500 w-10 flex-shrink-0 text-right pr-4">27</span><span class="flex-1">      {/* Static footer */}</span></div><div class="flex"><span class="select-none text-surface-500 w-10 flex-shrink-0 text-right pr-4">28</span><span class="flex-1">      &lt;footer&gt;...&lt;/footer&gt;</span></div><div class="flex"><span class="select-none text-surface-500 w-10 flex-shrink-0 text-right pr-4">29</span><span class="flex-1">    &lt;/div&gt;</span></div><div class="flex"><span class="select-none text-surface-500 w-10 flex-shrink-0 text-right pr-4">30</span><span class="flex-1">  );</span></div><div class="flex"><span class="select-none text-surface-500 w-10 flex-shrink-0 text-right pr-4">31</span><span class="flex-1">}</span></div></code></pre><button class="absolute right-2 top-2 p-2 rounded-md transition-all opacity-0 group-hover:opacity-100 bg-surface-700 text-surface-300 hover:bg-surface-600 hover:text-white" aria-label="Copy code"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-copy w-4 h-4"><rect width="14" height="14" x="8" y="8" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg></button></div></div><div class="relative group"><div class="flex items-center justify-between px-4 py-2 bg-surface-800 border-b border-surface-700 rounded-t-lg"><span class="text-sm text-surface-400 font-mono">AddToCartButton.tsx</span><span class="text-xs text-surface-500 uppercase">tsx</span></div><div class="relative"><pre class="bg-surface-900 text-surface-100 p-4 overflow-x-auto text-sm leading-relaxed rounded-b-lg"><code class="font-mono"><div class="flex"><span class="select-none text-surface-500 w-10 flex-shrink-0 text-right pr-4">1</span><span class="flex-1">// AddToCartButton.tsx - Only this code ships to client</span></div><div class="flex"><span class="select-none text-surface-500 w-10 flex-shrink-0 text-right pr-4">2</span><span class="flex-1">import { createSignal } from &#x27;philjs-core&#x27;;</span></div><div class="flex"><span class="select-none text-surface-500 w-10 flex-shrink-0 text-right pr-4">3</span><span class="flex-1"> </span></div><div class="flex"><span class="select-none text-surface-500 w-10 flex-shrink-0 text-right pr-4">4</span><span class="flex-1">export function AddToCartButton({ productId }: { productId: string }) {</span></div><div class="flex"><span class="select-none text-surface-500 w-10 flex-shrink-0 text-right pr-4">5</span><span class="flex-1">  const [adding, setAdding] = createSignal(false);</span></div><div class="flex"><span class="select-none text-surface-500 w-10 flex-shrink-0 text-right pr-4">6</span><span class="flex-1">  const [added, setAdded] = createSignal(false);</span></div><div class="flex"><span class="select-none text-surface-500 w-10 flex-shrink-0 text-right pr-4">7</span><span class="flex-1"> </span></div><div class="flex"><span class="select-none text-surface-500 w-10 flex-shrink-0 text-right pr-4">8</span><span class="flex-1">  const handleAdd = async () =&gt; {</span></div><div class="flex"><span class="select-none text-surface-500 w-10 flex-shrink-0 text-right pr-4">9</span><span class="flex-1">    setAdding(true);</span></div><div class="flex"><span class="select-none text-surface-500 w-10 flex-shrink-0 text-right pr-4">10</span><span class="flex-1">    await cart.add(productId);</span></div><div class="flex"><span class="select-none text-surface-500 w-10 flex-shrink-0 text-right pr-4">11</span><span class="flex-1">    setAdding(false);</span></div><div class="flex"><span class="select-none text-surface-500 w-10 flex-shrink-0 text-right pr-4">12</span><span class="flex-1">    setAdded(true);</span></div><div class="flex"><span class="select-none text-surface-500 w-10 flex-shrink-0 text-right pr-4">13</span><span class="flex-1">  };</span></div><div class="flex"><span class="select-none text-surface-500 w-10 flex-shrink-0 text-right pr-4">14</span><span class="flex-1"> </span></div><div class="flex"><span class="select-none text-surface-500 w-10 flex-shrink-0 text-right pr-4">15</span><span class="flex-1">  return (</span></div><div class="flex"><span class="select-none text-surface-500 w-10 flex-shrink-0 text-right pr-4">16</span><span class="flex-1">    &lt;button onClick={handleAdd} disabled={adding()}&gt;</span></div><div class="flex"><span class="select-none text-surface-500 w-10 flex-shrink-0 text-right pr-4">17</span><span class="flex-1">      {adding() ? &#x27;Adding...&#x27; : added() ? &#x27;Added!&#x27; : &#x27;Add to Cart&#x27;}</span></div><div class="flex"><span class="select-none text-surface-500 w-10 flex-shrink-0 text-right pr-4">18</span><span class="flex-1">    &lt;/button&gt;</span></div><div class="flex"><span class="select-none text-surface-500 w-10 flex-shrink-0 text-right pr-4">19</span><span class="flex-1">  );</span></div><div class="flex"><span class="select-none text-surface-500 w-10 flex-shrink-0 text-right pr-4">20</span><span class="flex-1">}</span></div></code></pre><button class="absolute right-2 top-2 p-2 rounded-md transition-all opacity-0 group-hover:opacity-100 bg-surface-700 text-surface-300 hover:bg-surface-600 hover:text-white" aria-label="Copy code"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-copy w-4 h-4"><rect width="14" height="14" x="8" y="8" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg></button></div></div><h3 id="island-hydration">Island Hydration Strategies</h3><div class="relative group"><div class="flex items-center justify-between px-4 py-2 bg-surface-800 border-b border-surface-700 rounded-t-lg"><span class="text-sm text-surface-400 font-mono">island-strategies.tsx</span><span class="text-xs text-surface-500 uppercase">tsx</span></div><div class="relative"><pre class="bg-surface-900 text-surface-100 p-4 overflow-x-auto text-sm leading-relaxed rounded-b-lg"><code class="font-mono"><div class="flex"><span class="select-none text-surface-500 w-10 flex-shrink-0 text-right pr-4">1</span><span class="flex-1">// Hydrate on page load (default)</span></div><div class="flex"><span class="select-none text-surface-500 w-10 flex-shrink-0 text-right pr-4">2</span><span class="flex-1">&lt;Island component={Widget} /&gt;</span></div><div class="flex"><span class="select-none text-surface-500 w-10 flex-shrink-0 text-right pr-4">3</span><span class="flex-1"> </span></div><div class="flex"><span class="select-none text-surface-500 w-10 flex-shrink-0 text-right pr-4">4</span><span class="flex-1">// Hydrate when visible in viewport</span></div><div class="flex"><span class="select-none text-surface-500 w-10 flex-shrink-0 text-right pr-4">5</span><span class="flex-1">&lt;Island component={Widget} client:visible /&gt;</span></div><div class="flex"><span class="select-none text-surface-500 w-10 flex-shrink-0 text-right pr-4">6</span><span class="flex-1"> </span></div><div class="flex"><span class="select-none text-surface-500 w-10 flex-shrink-0 text-right pr-4">7</span><span class="flex-1">// Hydrate when browser is idle</span></div><div class="flex"><span class="select-none text-surface-500 w-10 flex-shrink-0 text-right pr-4">8</span><span class="flex-1">&lt;Island component={Widget} client:idle /&gt;</span></div><div class="flex"><span class="select-none text-surface-500 w-10 flex-shrink-0 text-right pr-4">9</span><span class="flex-1"> </span></div><div class="flex"><span class="select-none text-surface-500 w-10 flex-shrink-0 text-right pr-4">10</span><span class="flex-1">// Hydrate on user interaction</span></div><div class="flex"><span class="select-none text-surface-500 w-10 flex-shrink-0 text-right pr-4">11</span><span class="flex-1">&lt;Island component={Widget} client:hover /&gt;</span></div><div class="flex"><span class="select-none text-surface-500 w-10 flex-shrink-0 text-right pr-4">12</span><span class="flex-1">&lt;Island component={Widget} client:click /&gt;</span></div><div class="flex"><span class="select-none text-surface-500 w-10 flex-shrink-0 text-right pr-4">13</span><span class="flex-1"> </span></div><div class="flex"><span class="select-none text-surface-500 w-10 flex-shrink-0 text-right pr-4">14</span><span class="flex-1">// Never hydrate (static only)</span></div><div class="flex"><span class="select-none text-surface-500 w-10 flex-shrink-0 text-right pr-4">15</span><span class="flex-1">&lt;Island component={Widget} client:none /&gt;</span></div><div class="flex"><span class="select-none text-surface-500 w-10 flex-shrink-0 text-right pr-4">16</span><span class="flex-1"> </span></div><div class="flex"><span class="select-none text-surface-500 w-10 flex-shrink-0 text-right pr-4">17</span><span class="flex-1">// Hydrate on media query</span></div><div class="flex"><span class="select-none text-surface-500 w-10 flex-shrink-0 text-right pr-4">18</span><span class="flex-1">&lt;Island component={Widget} client:media=&quot;(min-width: 768px)&quot; /&gt;</span></div></code></pre><button class="absolute right-2 top-2 p-2 rounded-md transition-all opacity-0 group-hover:opacity-100 bg-surface-700 text-surface-300 hover:bg-surface-600 hover:text-white" aria-label="Copy code"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-copy w-4 h-4"><rect width="14" height="14" x="8" y="8" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg></button></div></div><h2 id="resumability">Resumability</h2><p>PhilJS supports Qwik-style resumability where the application can resume execution without re-running initialization code:</p><div class="relative group"><div class="flex items-center justify-between px-4 py-2 bg-surface-800 border-b border-surface-700 rounded-t-lg"><span class="text-sm text-surface-400 font-mono">ResumableCounter.tsx</span><span class="text-xs text-surface-500 uppercase">tsx</span></div><div class="relative"><pre class="bg-surface-900 text-surface-100 p-4 overflow-x-auto text-sm leading-relaxed rounded-b-lg"><code class="font-mono"><div class="flex"><span class="select-none text-surface-500 w-10 flex-shrink-0 text-right pr-4">1</span><span class="flex-1">import { component$, useSignal, $ } from &#x27;philjs-resumable&#x27;;</span></div><div class="flex"><span class="select-none text-surface-500 w-10 flex-shrink-0 text-right pr-4">2</span><span class="flex-1"> </span></div><div class="flex"><span class="select-none text-surface-500 w-10 flex-shrink-0 text-right pr-4">3</span><span class="flex-1">// This component is resumable - no hydration needed</span></div><div class="flex"><span class="select-none text-surface-500 w-10 flex-shrink-0 text-right pr-4">4</span><span class="flex-1">export const Counter = component$(() =&gt; {</span></div><div class="flex"><span class="select-none text-surface-500 w-10 flex-shrink-0 text-right pr-4">5</span><span class="flex-1">  const count = useSignal(0);</span></div><div class="flex"><span class="select-none text-surface-500 w-10 flex-shrink-0 text-right pr-4">6</span><span class="flex-1"> </span></div><div class="flex"><span class="select-none text-surface-500 w-10 flex-shrink-0 text-right pr-4">7</span><span class="flex-1">  // Event handler is lazy-loaded on first interaction</span></div><div class="flex"><span class="select-none text-surface-500 w-10 flex-shrink-0 text-right pr-4">8</span><span class="flex-1">  const increment = $(() =&gt; {</span></div><div class="flex"><span class="select-none text-surface-500 w-10 flex-shrink-0 text-right pr-4">9</span><span class="flex-1">    count.value++;</span></div><div class="flex"><span class="select-none text-surface-500 w-10 flex-shrink-0 text-right pr-4">10</span><span class="flex-1">  });</span></div><div class="flex"><span class="select-none text-surface-500 w-10 flex-shrink-0 text-right pr-4">11</span><span class="flex-1"> </span></div><div class="flex"><span class="select-none text-surface-500 w-10 flex-shrink-0 text-right pr-4">12</span><span class="flex-1">  return (</span></div><div class="flex"><span class="select-none text-surface-500 w-10 flex-shrink-0 text-right pr-4">13</span><span class="flex-1">    &lt;button onClick$={increment}&gt;</span></div><div class="flex"><span class="select-none text-surface-500 w-10 flex-shrink-0 text-right pr-4">14</span><span class="flex-1">      Count: {count.value}</span></div><div class="flex"><span class="select-none text-surface-500 w-10 flex-shrink-0 text-right pr-4">15</span><span class="flex-1">    &lt;/button&gt;</span></div><div class="flex"><span class="select-none text-surface-500 w-10 flex-shrink-0 text-right pr-4">16</span><span class="flex-1">  );</span></div><div class="flex"><span class="select-none text-surface-500 w-10 flex-shrink-0 text-right pr-4">17</span><span class="flex-1">});</span></div></code></pre><button class="absolute right-2 top-2 p-2 rounded-md transition-all opacity-0 group-hover:opacity-100 bg-surface-700 text-surface-300 hover:bg-surface-600 hover:text-white" aria-label="Copy code"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-copy w-4 h-4"><rect width="14" height="14" x="8" y="8" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg></button></div></div><div class="p-4 rounded-lg border-l-4 my-4 bg-blue-50 dark:bg-blue-900/20 border-blue-500 text-blue-800 dark:text-blue-200"><div class="flex items-start gap-3"><span class="flex-shrink-0 w-6 h-6 rounded-full bg-current/10 flex items-center justify-center font-bold text-sm">i</span><div><p class="font-semibold mb-1">When to Use Resumability</p><div class="prose-sm dark:prose-invert">Resumability is ideal for content-heavy sites where most users don&#x27;t interact. It provides instant interactivity without downloading or executing component code until needed.</div></div></div></div><h2 id="data-loading">Data Loading</h2><p>Load data on the server and pass it to components:</p><div class="relative group"><div class="flex items-center justify-between px-4 py-2 bg-surface-800 border-b border-surface-700 rounded-t-lg"><span class="text-sm text-surface-400 font-mono">UserPage.tsx</span><span class="text-xs text-surface-500 uppercase">tsx</span></div><div class="relative"><pre class="bg-surface-900 text-surface-100 p-4 overflow-x-auto text-sm leading-relaxed rounded-b-lg"><code class="font-mono"><div class="flex"><span class="select-none text-surface-500 w-10 flex-shrink-0 text-right pr-4">1</span><span class="flex-1">// Using loaders (route-level data)</span></div><div class="flex"><span class="select-none text-surface-500 w-10 flex-shrink-0 text-right pr-4">2</span><span class="flex-1">import { createRouteLoader } from &#x27;philjs-router&#x27;;</span></div><div class="flex"><span class="select-none text-surface-500 w-10 flex-shrink-0 text-right pr-4">3</span><span class="flex-1"> </span></div><div class="flex"><span class="select-none text-surface-500 w-10 flex-shrink-0 text-right pr-4">4</span><span class="flex-1">export const loader = createRouteLoader(async ({ params }) =&gt; {</span></div><div class="flex"><span class="select-none text-surface-500 w-10 flex-shrink-0 text-right pr-4">5</span><span class="flex-1">  const user = await db.users.find(params.id);</span></div><div class="flex"><span class="select-none text-surface-500 w-10 flex-shrink-0 text-right pr-4">6</span><span class="flex-1">  if (!user) throw new Response(&#x27;Not Found&#x27;, { status: 404 });</span></div><div class="flex"><span class="select-none text-surface-500 w-10 flex-shrink-0 text-right pr-4">7</span><span class="flex-1">  return { user };</span></div><div class="flex"><span class="select-none text-surface-500 w-10 flex-shrink-0 text-right pr-4">8</span><span class="flex-1">});</span></div><div class="flex"><span class="select-none text-surface-500 w-10 flex-shrink-0 text-right pr-4">9</span><span class="flex-1"> </span></div><div class="flex"><span class="select-none text-surface-500 w-10 flex-shrink-0 text-right pr-4">10</span><span class="flex-1">export default function UserPage() {</span></div><div class="flex"><span class="select-none text-surface-500 w-10 flex-shrink-0 text-right pr-4">11</span><span class="flex-1">  const data = useLoaderData&lt;typeof loader&gt;();</span></div><div class="flex"><span class="select-none text-surface-500 w-10 flex-shrink-0 text-right pr-4">12</span><span class="flex-1"> </span></div><div class="flex"><span class="select-none text-surface-500 w-10 flex-shrink-0 text-right pr-4">13</span><span class="flex-1">  return (</span></div><div class="flex"><span class="select-none text-surface-500 w-10 flex-shrink-0 text-right pr-4">14</span><span class="flex-1">    &lt;div&gt;</span></div><div class="flex"><span class="select-none text-surface-500 w-10 flex-shrink-0 text-right pr-4">15</span><span class="flex-1">      &lt;h1&gt;{data.user.name}&lt;/h1&gt;</span></div><div class="flex"><span class="select-none text-surface-500 w-10 flex-shrink-0 text-right pr-4">16</span><span class="flex-1">      &lt;p&gt;{data.user.bio}&lt;/p&gt;</span></div><div class="flex"><span class="select-none text-surface-500 w-10 flex-shrink-0 text-right pr-4">17</span><span class="flex-1">    &lt;/div&gt;</span></div><div class="flex"><span class="select-none text-surface-500 w-10 flex-shrink-0 text-right pr-4">18</span><span class="flex-1">  );</span></div><div class="flex"><span class="select-none text-surface-500 w-10 flex-shrink-0 text-right pr-4">19</span><span class="flex-1">}</span></div></code></pre><button class="absolute right-2 top-2 p-2 rounded-md transition-all opacity-0 group-hover:opacity-100 bg-surface-700 text-surface-300 hover:bg-surface-600 hover:text-white" aria-label="Copy code"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-copy w-4 h-4"><rect width="14" height="14" x="8" y="8" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg></button></div></div><h3 id="server-functions">Server Functions</h3><div class="relative group"><div class="flex items-center justify-between px-4 py-2 bg-surface-800 border-b border-surface-700 rounded-t-lg"><span class="text-sm text-surface-400 font-mono">server-functions.tsx</span><span class="text-xs text-surface-500 uppercase">tsx</span></div><div class="relative"><pre class="bg-surface-900 text-surface-100 p-4 overflow-x-auto text-sm leading-relaxed rounded-b-lg"><code class="font-mono"><div class="flex"><span class="select-none text-surface-500 w-10 flex-shrink-0 text-right pr-4">1</span><span class="flex-1">// Define server-only functions</span></div><div class="flex"><span class="select-none text-surface-500 w-10 flex-shrink-0 text-right pr-4">2</span><span class="flex-1">&#x27;use server&#x27;;</span></div><div class="flex"><span class="select-none text-surface-500 w-10 flex-shrink-0 text-right pr-4">3</span><span class="flex-1"> </span></div><div class="flex"><span class="select-none text-surface-500 w-10 flex-shrink-0 text-right pr-4">4</span><span class="flex-1">import { createServerFn } from &#x27;philjs-ssr&#x27;;</span></div><div class="flex"><span class="select-none text-surface-500 w-10 flex-shrink-0 text-right pr-4">5</span><span class="flex-1"> </span></div><div class="flex"><span class="select-none text-surface-500 w-10 flex-shrink-0 text-right pr-4">6</span><span class="flex-1">export const getUser = createServerFn(async (id: string) =&gt; {</span></div><div class="flex"><span class="select-none text-surface-500 w-10 flex-shrink-0 text-right pr-4">7</span><span class="flex-1">  // This only runs on the server</span></div><div class="flex"><span class="select-none text-surface-500 w-10 flex-shrink-0 text-right pr-4">8</span><span class="flex-1">  const user = await db.users.find(id);</span></div><div class="flex"><span class="select-none text-surface-500 w-10 flex-shrink-0 text-right pr-4">9</span><span class="flex-1">  return user;</span></div><div class="flex"><span class="select-none text-surface-500 w-10 flex-shrink-0 text-right pr-4">10</span><span class="flex-1">});</span></div><div class="flex"><span class="select-none text-surface-500 w-10 flex-shrink-0 text-right pr-4">11</span><span class="flex-1"> </span></div><div class="flex"><span class="select-none text-surface-500 w-10 flex-shrink-0 text-right pr-4">12</span><span class="flex-1">export const updateUser = createServerFn(async (id: string, data: UserUpdate) =&gt; {</span></div><div class="flex"><span class="select-none text-surface-500 w-10 flex-shrink-0 text-right pr-4">13</span><span class="flex-1">  // Validate and update</span></div><div class="flex"><span class="select-none text-surface-500 w-10 flex-shrink-0 text-right pr-4">14</span><span class="flex-1">  await db.users.update(id, data);</span></div><div class="flex"><span class="select-none text-surface-500 w-10 flex-shrink-0 text-right pr-4">15</span><span class="flex-1">  return { success: true };</span></div><div class="flex"><span class="select-none text-surface-500 w-10 flex-shrink-0 text-right pr-4">16</span><span class="flex-1">});</span></div><div class="flex"><span class="select-none text-surface-500 w-10 flex-shrink-0 text-right pr-4">17</span><span class="flex-1"> </span></div><div class="flex"><span class="select-none text-surface-500 w-10 flex-shrink-0 text-right pr-4">18</span><span class="flex-1">// Use in components - automatically becomes RPC call on client</span></div><div class="flex"><span class="select-none text-surface-500 w-10 flex-shrink-0 text-right pr-4">19</span><span class="flex-1">function UserProfile({ userId }: { userId: string }) {</span></div><div class="flex"><span class="select-none text-surface-500 w-10 flex-shrink-0 text-right pr-4">20</span><span class="flex-1">  const [user] = createResource(() =&gt; getUser(userId));</span></div><div class="flex"><span class="select-none text-surface-500 w-10 flex-shrink-0 text-right pr-4">21</span><span class="flex-1"> </span></div><div class="flex"><span class="select-none text-surface-500 w-10 flex-shrink-0 text-right pr-4">22</span><span class="flex-1">  const handleSave = async (data: UserUpdate) =&gt; {</span></div><div class="flex"><span class="select-none text-surface-500 w-10 flex-shrink-0 text-right pr-4">23</span><span class="flex-1">    await updateUser(userId, data);</span></div><div class="flex"><span class="select-none text-surface-500 w-10 flex-shrink-0 text-right pr-4">24</span><span class="flex-1">  };</span></div><div class="flex"><span class="select-none text-surface-500 w-10 flex-shrink-0 text-right pr-4">25</span><span class="flex-1"> </span></div><div class="flex"><span class="select-none text-surface-500 w-10 flex-shrink-0 text-right pr-4">26</span><span class="flex-1">  return (</span></div><div class="flex"><span class="select-none text-surface-500 w-10 flex-shrink-0 text-right pr-4">27</span><span class="flex-1">    &lt;Show when={user()}&gt;</span></div><div class="flex"><span class="select-none text-surface-500 w-10 flex-shrink-0 text-right pr-4">28</span><span class="flex-1">      {(u) =&gt; &lt;ProfileForm user={u} onSave={handleSave} /&gt;}</span></div><div class="flex"><span class="select-none text-surface-500 w-10 flex-shrink-0 text-right pr-4">29</span><span class="flex-1">    &lt;/Show&gt;</span></div><div class="flex"><span class="select-none text-surface-500 w-10 flex-shrink-0 text-right pr-4">30</span><span class="flex-1">  );</span></div><div class="flex"><span class="select-none text-surface-500 w-10 flex-shrink-0 text-right pr-4">31</span><span class="flex-1">}</span></div></code></pre><button class="absolute right-2 top-2 p-2 rounded-md transition-all opacity-0 group-hover:opacity-100 bg-surface-700 text-surface-300 hover:bg-surface-600 hover:text-white" aria-label="Copy code"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-copy w-4 h-4"><rect width="14" height="14" x="8" y="8" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg></button></div></div><h2 id="seo">SEO &amp; Meta Tags</h2><div class="relative group"><div class="flex items-center justify-between px-4 py-2 bg-surface-800 border-b border-surface-700 rounded-t-lg"><span class="text-sm text-surface-400 font-mono">SEO.tsx</span><span class="text-xs text-surface-500 uppercase">tsx</span></div><div class="relative"><pre class="bg-surface-900 text-surface-100 p-4 overflow-x-auto text-sm leading-relaxed rounded-b-lg"><code class="font-mono"><div class="flex"><span class="select-none text-surface-500 w-10 flex-shrink-0 text-right pr-4">1</span><span class="flex-1">import { Title, Meta, Link } from &#x27;philjs-ssr&#x27;;</span></div><div class="flex"><span class="select-none text-surface-500 w-10 flex-shrink-0 text-right pr-4">2</span><span class="flex-1"> </span></div><div class="flex"><span class="select-none text-surface-500 w-10 flex-shrink-0 text-right pr-4">3</span><span class="flex-1">function ProductPage({ product }: { product: Product }) {</span></div><div class="flex"><span class="select-none text-surface-500 w-10 flex-shrink-0 text-right pr-4">4</span><span class="flex-1">  return (</span></div><div class="flex"><span class="select-none text-surface-500 w-10 flex-shrink-0 text-right pr-4">5</span><span class="flex-1">    &lt;&gt;</span></div><div class="flex"><span class="select-none text-surface-500 w-10 flex-shrink-0 text-right pr-4">6</span><span class="flex-1">      &lt;Title&gt;{product.name} | My Store&lt;/Title&gt;</span></div><div class="flex"><span class="select-none text-surface-500 w-10 flex-shrink-0 text-right pr-4">7</span><span class="flex-1">      &lt;Meta name=&quot;description&quot; content={product.description} /&gt;</span></div><div class="flex"><span class="select-none text-surface-500 w-10 flex-shrink-0 text-right pr-4">8</span><span class="flex-1">      &lt;Meta property=&quot;og:title&quot; content={product.name} /&gt;</span></div><div class="flex"><span class="select-none text-surface-500 w-10 flex-shrink-0 text-right pr-4">9</span><span class="flex-1">      &lt;Meta property=&quot;og:image&quot; content={product.image} /&gt;</span></div><div class="flex"><span class="select-none text-surface-500 w-10 flex-shrink-0 text-right pr-4">10</span><span class="flex-1">      &lt;Meta property=&quot;og:type&quot; content=&quot;product&quot; /&gt;</span></div><div class="flex"><span class="select-none text-surface-500 w-10 flex-shrink-0 text-right pr-4">11</span><span class="flex-1">      &lt;Link rel=&quot;canonical&quot; href={`https://mystore.com/products/${product.slug}`} /&gt;</span></div><div class="flex"><span class="select-none text-surface-500 w-10 flex-shrink-0 text-right pr-4">12</span><span class="flex-1"> </span></div><div class="flex"><span class="select-none text-surface-500 w-10 flex-shrink-0 text-right pr-4">13</span><span class="flex-1">      {/* Structured data */}</span></div><div class="flex"><span class="select-none text-surface-500 w-10 flex-shrink-0 text-right pr-4">14</span><span class="flex-1">      &lt;script type=&quot;application/ld+json&quot;&gt;</span></div><div class="flex"><span class="select-none text-surface-500 w-10 flex-shrink-0 text-right pr-4">15</span><span class="flex-1">        {JSON.stringify({</span></div><div class="flex"><span class="select-none text-surface-500 w-10 flex-shrink-0 text-right pr-4">16</span><span class="flex-1">          &quot;@context&quot;: &quot;https://schema.org&quot;,</span></div><div class="flex"><span class="select-none text-surface-500 w-10 flex-shrink-0 text-right pr-4">17</span><span class="flex-1">          &quot;@type&quot;: &quot;Product&quot;,</span></div><div class="flex"><span class="select-none text-surface-500 w-10 flex-shrink-0 text-right pr-4">18</span><span class="flex-1">          name: product.name,</span></div><div class="flex"><span class="select-none text-surface-500 w-10 flex-shrink-0 text-right pr-4">19</span><span class="flex-1">          description: product.description,</span></div><div class="flex"><span class="select-none text-surface-500 w-10 flex-shrink-0 text-right pr-4">20</span><span class="flex-1">          image: product.image,</span></div><div class="flex"><span class="select-none text-surface-500 w-10 flex-shrink-0 text-right pr-4">21</span><span class="flex-1">          offers: {</span></div><div class="flex"><span class="select-none text-surface-500 w-10 flex-shrink-0 text-right pr-4">22</span><span class="flex-1">            &quot;@type&quot;: &quot;Offer&quot;,</span></div><div class="flex"><span class="select-none text-surface-500 w-10 flex-shrink-0 text-right pr-4">23</span><span class="flex-1">            price: product.price,</span></div><div class="flex"><span class="select-none text-surface-500 w-10 flex-shrink-0 text-right pr-4">24</span><span class="flex-1">            priceCurrency: &quot;USD&quot;,</span></div><div class="flex"><span class="select-none text-surface-500 w-10 flex-shrink-0 text-right pr-4">25</span><span class="flex-1">          },</span></div><div class="flex"><span class="select-none text-surface-500 w-10 flex-shrink-0 text-right pr-4">26</span><span class="flex-1">        })}</span></div><div class="flex"><span class="select-none text-surface-500 w-10 flex-shrink-0 text-right pr-4">27</span><span class="flex-1">      &lt;/script&gt;</span></div><div class="flex"><span class="select-none text-surface-500 w-10 flex-shrink-0 text-right pr-4">28</span><span class="flex-1"> </span></div><div class="flex"><span class="select-none text-surface-500 w-10 flex-shrink-0 text-right pr-4">29</span><span class="flex-1">      &lt;main&gt;</span></div><div class="flex"><span class="select-none text-surface-500 w-10 flex-shrink-0 text-right pr-4">30</span><span class="flex-1">        &lt;h1&gt;{product.name}&lt;/h1&gt;</span></div><div class="flex"><span class="select-none text-surface-500 w-10 flex-shrink-0 text-right pr-4">31</span><span class="flex-1">        {/* ... */}</span></div><div class="flex"><span class="select-none text-surface-500 w-10 flex-shrink-0 text-right pr-4">32</span><span class="flex-1">      &lt;/main&gt;</span></div><div class="flex"><span class="select-none text-surface-500 w-10 flex-shrink-0 text-right pr-4">33</span><span class="flex-1">    &lt;/&gt;</span></div><div class="flex"><span class="select-none text-surface-500 w-10 flex-shrink-0 text-right pr-4">34</span><span class="flex-1">  );</span></div><div class="flex"><span class="select-none text-surface-500 w-10 flex-shrink-0 text-right pr-4">35</span><span class="flex-1">}</span></div></code></pre><button class="absolute right-2 top-2 p-2 rounded-md transition-all opacity-0 group-hover:opacity-100 bg-surface-700 text-surface-300 hover:bg-surface-600 hover:text-white" aria-label="Copy code"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-copy w-4 h-4"><rect width="14" height="14" x="8" y="8" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg></button></div></div><h2 id="caching">Caching Strategies</h2><div class="relative group"><div class="flex items-center justify-between px-4 py-2 bg-surface-800 border-b border-surface-700 rounded-t-lg"><span class="text-sm text-surface-400 font-mono">caching.ts</span><span class="text-xs text-surface-500 uppercase">typescript</span></div><div class="relative"><pre class="bg-surface-900 text-surface-100 p-4 overflow-x-auto text-sm leading-relaxed rounded-b-lg"><code class="font-mono"><div class="flex"><span class="select-none text-surface-500 w-10 flex-shrink-0 text-right pr-4">1</span><span class="flex-1">import { renderToString, cache } from &#x27;philjs-ssr&#x27;;</span></div><div class="flex"><span class="select-none text-surface-500 w-10 flex-shrink-0 text-right pr-4">2</span><span class="flex-1"> </span></div><div class="flex"><span class="select-none text-surface-500 w-10 flex-shrink-0 text-right pr-4">3</span><span class="flex-1">// Cache full page renders</span></div><div class="flex"><span class="select-none text-surface-500 w-10 flex-shrink-0 text-right pr-4">4</span><span class="flex-1">const cachedRender = cache(</span></div><div class="flex"><span class="select-none text-surface-500 w-10 flex-shrink-0 text-right pr-4">5</span><span class="flex-1">  async (url: string) =&gt; {</span></div><div class="flex"><span class="select-none text-surface-500 w-10 flex-shrink-0 text-right pr-4">6</span><span class="flex-1">    return renderToString(() =&gt; &lt;App url={url} /&gt;);</span></div><div class="flex"><span class="select-none text-surface-500 w-10 flex-shrink-0 text-right pr-4">7</span><span class="flex-1">  },</span></div><div class="flex"><span class="select-none text-surface-500 w-10 flex-shrink-0 text-right pr-4">8</span><span class="flex-1">  {</span></div><div class="flex"><span class="select-none text-surface-500 w-10 flex-shrink-0 text-right pr-4">9</span><span class="flex-1">    maxAge: 60, // seconds</span></div><div class="flex"><span class="select-none text-surface-500 w-10 flex-shrink-0 text-right pr-4">10</span><span class="flex-1">    staleWhileRevalidate: 300,</span></div><div class="flex"><span class="select-none text-surface-500 w-10 flex-shrink-0 text-right pr-4">11</span><span class="flex-1">  }</span></div><div class="flex"><span class="select-none text-surface-500 w-10 flex-shrink-0 text-right pr-4">12</span><span class="flex-1">);</span></div><div class="flex"><span class="select-none text-surface-500 w-10 flex-shrink-0 text-right pr-4">13</span><span class="flex-1"> </span></div><div class="flex"><span class="select-none text-surface-500 w-10 flex-shrink-0 text-right pr-4">14</span><span class="flex-1">// Cache data fetches</span></div><div class="flex"><span class="select-none text-surface-500 w-10 flex-shrink-0 text-right pr-4">15</span><span class="flex-1">const getCachedProducts = cache(</span></div><div class="flex"><span class="select-none text-surface-500 w-10 flex-shrink-0 text-right pr-4">16</span><span class="flex-1">  async () =&gt; db.products.findMany(),</span></div><div class="flex"><span class="select-none text-surface-500 w-10 flex-shrink-0 text-right pr-4">17</span><span class="flex-1">  { maxAge: 300 }</span></div><div class="flex"><span class="select-none text-surface-500 w-10 flex-shrink-0 text-right pr-4">18</span><span class="flex-1">);</span></div><div class="flex"><span class="select-none text-surface-500 w-10 flex-shrink-0 text-right pr-4">19</span><span class="flex-1"> </span></div><div class="flex"><span class="select-none text-surface-500 w-10 flex-shrink-0 text-right pr-4">20</span><span class="flex-1">// Component-level caching</span></div><div class="flex"><span class="select-none text-surface-500 w-10 flex-shrink-0 text-right pr-4">21</span><span class="flex-1">function ProductList() {</span></div><div class="flex"><span class="select-none text-surface-500 w-10 flex-shrink-0 text-right pr-4">22</span><span class="flex-1">  const [products] = createResource(getCachedProducts);</span></div><div class="flex"><span class="select-none text-surface-500 w-10 flex-shrink-0 text-right pr-4">23</span><span class="flex-1"> </span></div><div class="flex"><span class="select-none text-surface-500 w-10 flex-shrink-0 text-right pr-4">24</span><span class="flex-1">  return (</span></div><div class="flex"><span class="select-none text-surface-500 w-10 flex-shrink-0 text-right pr-4">25</span><span class="flex-1">    &lt;For each={products()}&gt;</span></div><div class="flex"><span class="select-none text-surface-500 w-10 flex-shrink-0 text-right pr-4">26</span><span class="flex-1">      {(product) =&gt; &lt;ProductCard product={product} /&gt;}</span></div><div class="flex"><span class="select-none text-surface-500 w-10 flex-shrink-0 text-right pr-4">27</span><span class="flex-1">    &lt;/For&gt;</span></div><div class="flex"><span class="select-none text-surface-500 w-10 flex-shrink-0 text-right pr-4">28</span><span class="flex-1">  );</span></div><div class="flex"><span class="select-none text-surface-500 w-10 flex-shrink-0 text-right pr-4">29</span><span class="flex-1">}</span></div></code></pre><button class="absolute right-2 top-2 p-2 rounded-md transition-all opacity-0 group-hover:opacity-100 bg-surface-700 text-surface-300 hover:bg-surface-600 hover:text-white" aria-label="Copy code"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-copy w-4 h-4"><rect width="14" height="14" x="8" y="8" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg></button></div></div><h2 id="error-handling">Error Handling</h2><div class="relative group"><div class="flex items-center justify-between px-4 py-2 bg-surface-800 border-b border-surface-700 rounded-t-lg"><span class="text-sm text-surface-400 font-mono">ErrorHandling.tsx</span><span class="text-xs text-surface-500 uppercase">tsx</span></div><div class="relative"><pre class="bg-surface-900 text-surface-100 p-4 overflow-x-auto text-sm leading-relaxed rounded-b-lg"><code class="font-mono"><div class="flex"><span class="select-none text-surface-500 w-10 flex-shrink-0 text-right pr-4">1</span><span class="flex-1">import { ErrorBoundary } from &#x27;philjs-core&#x27;;</span></div><div class="flex"><span class="select-none text-surface-500 w-10 flex-shrink-0 text-right pr-4">2</span><span class="flex-1"> </span></div><div class="flex"><span class="select-none text-surface-500 w-10 flex-shrink-0 text-right pr-4">3</span><span class="flex-1">function App() {</span></div><div class="flex"><span class="select-none text-surface-500 w-10 flex-shrink-0 text-right pr-4">4</span><span class="flex-1">  return (</span></div><div class="flex"><span class="select-none text-surface-500 w-10 flex-shrink-0 text-right pr-4">5</span><span class="flex-1">    &lt;ErrorBoundary</span></div><div class="flex"><span class="select-none text-surface-500 w-10 flex-shrink-0 text-right pr-4">6</span><span class="flex-1">      fallback={(err, reset) =&gt; (</span></div><div class="flex"><span class="select-none text-surface-500 w-10 flex-shrink-0 text-right pr-4">7</span><span class="flex-1">        &lt;div class=&quot;error-page&quot;&gt;</span></div><div class="flex"><span class="select-none text-surface-500 w-10 flex-shrink-0 text-right pr-4">8</span><span class="flex-1">          &lt;h1&gt;Something went wrong&lt;/h1&gt;</span></div><div class="flex"><span class="select-none text-surface-500 w-10 flex-shrink-0 text-right pr-4">9</span><span class="flex-1">          &lt;p&gt;{err.message}&lt;/p&gt;</span></div><div class="flex"><span class="select-none text-surface-500 w-10 flex-shrink-0 text-right pr-4">10</span><span class="flex-1">          &lt;button onClick={reset}&gt;Try Again&lt;/button&gt;</span></div><div class="flex"><span class="select-none text-surface-500 w-10 flex-shrink-0 text-right pr-4">11</span><span class="flex-1">        &lt;/div&gt;</span></div><div class="flex"><span class="select-none text-surface-500 w-10 flex-shrink-0 text-right pr-4">12</span><span class="flex-1">      )}</span></div><div class="flex"><span class="select-none text-surface-500 w-10 flex-shrink-0 text-right pr-4">13</span><span class="flex-1">    &gt;</span></div><div class="flex"><span class="select-none text-surface-500 w-10 flex-shrink-0 text-right pr-4">14</span><span class="flex-1">      &lt;Router&gt;</span></div><div class="flex"><span class="select-none text-surface-500 w-10 flex-shrink-0 text-right pr-4">15</span><span class="flex-1">        &lt;Route path=&quot;/&quot; component={Home} /&gt;</span></div><div class="flex"><span class="select-none text-surface-500 w-10 flex-shrink-0 text-right pr-4">16</span><span class="flex-1">        &lt;Route path=&quot;/products/:id&quot; component={ProductPage} /&gt;</span></div><div class="flex"><span class="select-none text-surface-500 w-10 flex-shrink-0 text-right pr-4">17</span><span class="flex-1">      &lt;/Router&gt;</span></div><div class="flex"><span class="select-none text-surface-500 w-10 flex-shrink-0 text-right pr-4">18</span><span class="flex-1">    &lt;/ErrorBoundary&gt;</span></div><div class="flex"><span class="select-none text-surface-500 w-10 flex-shrink-0 text-right pr-4">19</span><span class="flex-1">  );</span></div><div class="flex"><span class="select-none text-surface-500 w-10 flex-shrink-0 text-right pr-4">20</span><span class="flex-1">}</span></div><div class="flex"><span class="select-none text-surface-500 w-10 flex-shrink-0 text-right pr-4">21</span><span class="flex-1"> </span></div><div class="flex"><span class="select-none text-surface-500 w-10 flex-shrink-0 text-right pr-4">22</span><span class="flex-1">// Route-level error handling</span></div><div class="flex"><span class="select-none text-surface-500 w-10 flex-shrink-0 text-right pr-4">23</span><span class="flex-1">export function errorBoundary(error: Error) {</span></div><div class="flex"><span class="select-none text-surface-500 w-10 flex-shrink-0 text-right pr-4">24</span><span class="flex-1">  if (error.status === 404) {</span></div><div class="flex"><span class="select-none text-surface-500 w-10 flex-shrink-0 text-right pr-4">25</span><span class="flex-1">    return &lt;NotFoundPage /&gt;;</span></div><div class="flex"><span class="select-none text-surface-500 w-10 flex-shrink-0 text-right pr-4">26</span><span class="flex-1">  }</span></div><div class="flex"><span class="select-none text-surface-500 w-10 flex-shrink-0 text-right pr-4">27</span><span class="flex-1">  return &lt;ErrorPage error={error} /&gt;;</span></div><div class="flex"><span class="select-none text-surface-500 w-10 flex-shrink-0 text-right pr-4">28</span><span class="flex-1">}</span></div></code></pre><button class="absolute right-2 top-2 p-2 rounded-md transition-all opacity-0 group-hover:opacity-100 bg-surface-700 text-surface-300 hover:bg-surface-600 hover:text-white" aria-label="Copy code"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-copy w-4 h-4"><rect width="14" height="14" x="8" y="8" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg></button></div></div><h2 id="next-steps">Next Steps</h2><div class="grid md:grid-cols-2 gap-4 mt-6 not-prose"><a class="block p-4 border border-surface-200 dark:border-surface-700 rounded-lg hover:border-primary-300 dark:hover:border-primary-700 transition-colors" href="/docs/guides/deployment/"><h3 class="font-semibold text-surface-900 dark:text-white">Deployment</h3><p class="text-sm text-surface-600 dark:text-surface-400 mt-1">Deploy your SSR application</p></a><a class="block p-4 border border-surface-200 dark:border-surface-700 rounded-lg hover:border-primary-300 dark:hover:border-primary-700 transition-colors" href="/docs/api/philjs-ssr/"><h3 class="font-semibold text-surface-900 dark:text-white">SSR API Reference</h3><p class="text-sm text-surface-600 dark:text-surface-400 mt-1">Complete API for server-side rendering</p></a></div></div></article></main></div></div></div></div><script src="/_next/static/chunks/webpack-d559140f0ba095e2.js" async=""></script><script>(self.__next_f=self.__next_f||[]).push([0]);self.__next_f.push([2,null])</script><script>self.__next_f.push([1,"1:HL[\"/_next/static/css/00bb994365e07be9.css\",\"style\"]\n"])</script><script>self.__next_f.push([1,"2:I[6296,[],\"\"]\n4:I[8850,[\"1763\",\"static/chunks/1763-be59ea8b08cc01ae.js\",\"7696\",\"static/chunks/7696-3ed40d5e79880c18.js\",\"9895\",\"static/chunks/app/docs/guides/ssr-hydration/page-b952b9af769833bf.js\"],\"CodeBlock\"]\n5:I[7696,[\"1763\",\"static/chunks/1763-be59ea8b08cc01ae.js\",\"7696\",\"static/chunks/7696-3ed40d5e79880c18.js\",\"9895\",\"static/chunks/app/docs/guides/ssr-hydration/page-b952b9af769833bf.js\"],\"Callout\"]\n6:I[6542,[\"1763\",\"static/chunks/1763-be59ea8b08cc01ae.js\",\"7696\",\"static/chunks/7696-3ed40d5e79880c18.js\",\"9895\",\"static/chunks/app/docs/guides/ssr-hydration/page-b952b9af769833bf.js\"],\"\"]\n7:I[6419,[],\"\"]\n8:I[8445,[],\"\"]\n9:I[8765,[\"1763\",\"static/chunks/1763-be59ea8b08cc01ae.js\",\"3998\",\"static/chunks/app/docs/layout-7a64e01358952c8e.js\"],\"Sidebar\"]\na:I[8765,[\"1763\",\"static/chunks/1763-be59ea8b08cc01ae.js\",\"3998\",\"static/chunks/app/docs/layout-7a64e01358952c8e.js\"],\"docsNavigation\"]\nb:I[1229,[\"1763\",\"static/chunks/1763-be59ea8b08cc01ae.js\",\"2793\",\"static/chunks/2793-28ddd1020ce77999.js\",\"3185\",\"static/chunks/app/layout-575709e7d70e2afe.js\"],\"ThemeProvider\"]\nc:I[8529,[\"1763\",\"static/chunks/1763-be59ea8b08cc01ae.js\",\"2793\",\"static/chunks/2793-28ddd1020ce77999.js\",\"3185\",\"static/chunks/app/layout-575709e7d70e2afe.js\"],\"Header\"]\ne:I[9375,[],\"\"]\nf:[]\n"])</script><script>self.__next_f.push([1,"0:[\"$\",\"$L2\",null,{\"buildId\":\"cd22Ei08xvul0IDkb5kRy\",\"assetPrefix\":\"\",\"urlParts\":[\"\",\"docs\",\"guides\",\"ssr-hydration\",\"\"],\"initialTree\":[\"\",{\"children\":[\"docs\",{\"children\":[\"guides\",{\"children\":[\"ssr-hydration\",{\"children\":[\"__PAGE__\",{}]}]}]}]},\"$undefined\",\"$undefined\",true],\"initialSeedData\":[\"\",{\"children\":[\"docs\",{\"children\":[\"guides\",{\"children\":[\"ssr-hydration\",{\"children\":[\"__PAGE__\",{},[[\"$L3\",[\"$\",\"div\",null,{\"className\":\"mdx-content\",\"children\":[[\"$\",\"h1\",null,{\"children\":\"SSR \u0026 Hydration\"}],[\"$\",\"p\",null,{\"className\":\"lead text-xl text-surface-600 dark:text-surface-400\",\"children\":\"PhilJS provides multiple rendering strategies including SSR, streaming, islands architecture, and resumability for optimal performance.\"}],[\"$\",\"h2\",null,{\"id\":\"rendering-modes\",\"children\":\"Rendering Modes\"}],[\"$\",\"table\",null,{\"children\":[[\"$\",\"thead\",null,{\"children\":[\"$\",\"tr\",null,{\"children\":[[\"$\",\"th\",null,{\"children\":\"Mode\"}],[\"$\",\"th\",null,{\"children\":\"Description\"}],[\"$\",\"th\",null,{\"children\":\"Use Case\"}]]}]}],[\"$\",\"tbody\",null,{\"children\":[[\"$\",\"tr\",null,{\"children\":[[\"$\",\"td\",null,{\"children\":[\"$\",\"strong\",null,{\"children\":\"SPA\"}]}],[\"$\",\"td\",null,{\"children\":\"Client-side rendering only\"}],[\"$\",\"td\",null,{\"children\":\"Dashboards, internal tools\"}]]}],[\"$\",\"tr\",null,{\"children\":[[\"$\",\"td\",null,{\"children\":[\"$\",\"strong\",null,{\"children\":\"SSR\"}]}],[\"$\",\"td\",null,{\"children\":\"Server renders, client hydrates\"}],[\"$\",\"td\",null,{\"children\":\"SEO-critical pages, content sites\"}]]}],[\"$\",\"tr\",null,{\"children\":[[\"$\",\"td\",null,{\"children\":[\"$\",\"strong\",null,{\"children\":\"SSG\"}]}],[\"$\",\"td\",null,{\"children\":\"Pre-rendered at build time\"}],[\"$\",\"td\",null,{\"children\":\"Blogs, docs, marketing sites\"}]]}],[\"$\",\"tr\",null,{\"children\":[[\"$\",\"td\",null,{\"children\":[\"$\",\"strong\",null,{\"children\":\"Islands\"}]}],[\"$\",\"td\",null,{\"children\":\"Static shell, interactive islands\"}],[\"$\",\"td\",null,{\"children\":\"Content-heavy with some interactivity\"}]]}],[\"$\",\"tr\",null,{\"children\":[[\"$\",\"td\",null,{\"children\":[\"$\",\"strong\",null,{\"children\":\"Streaming\"}]}],[\"$\",\"td\",null,{\"children\":\"Progressive HTML streaming\"}],[\"$\",\"td\",null,{\"children\":\"Fast TTFB with async data\"}]]}],[\"$\",\"tr\",null,{\"children\":[[\"$\",\"td\",null,{\"children\":[\"$\",\"strong\",null,{\"children\":\"Resumable\"}]}],[\"$\",\"td\",null,{\"children\":\"No hydration, instant interactivity\"}],[\"$\",\"td\",null,{\"children\":\"Maximum performance\"}]]}]]}]]}],[\"$\",\"h2\",null,{\"id\":\"basic-ssr\",\"children\":\"Basic SSR Setup\"}],[\"$\",\"p\",null,{\"children\":\"Enable SSR by rendering on the server and hydrating on the client:\"}],[\"$\",\"$L4\",null,{\"code\":\"// server.ts\\nimport { renderToString } from 'philjs-ssr';\\nimport App from './App';\\n\\nconst handler = async (req: Request) =\u003e {\\n  const url = new URL(req.url);\\n\\n  const html = await renderToString(() =\u003e (\\n    \u003cApp url={url.pathname} /\u003e\\n  ));\\n\\n  return new Response(`\\n    \u003c!DOCTYPE html\u003e\\n    \u003chtml\u003e\\n      \u003chead\u003e\\n        \u003clink rel=\\\"stylesheet\\\" href=\\\"/styles.css\\\" /\u003e\\n      \u003c/head\u003e\\n      \u003cbody\u003e\\n        \u003cdiv id=\\\"app\\\"\u003e${html}\u003c/div\u003e\\n        \u003cscript type=\\\"module\\\" src=\\\"/client.js\\\"\u003e\u003c/script\u003e\\n      \u003c/body\u003e\\n    \u003c/html\u003e\\n  `, {\\n    headers: { 'Content-Type': 'text/html' },\\n  });\\n};\",\"language\":\"typescript\",\"filename\":\"server.ts\"}],[\"$\",\"$L4\",null,{\"code\":\"// client.ts\\nimport { hydrate } from 'philjs-core';\\nimport App from './App';\\n\\nhydrate(\\n  document.getElementById('app')!,\\n  () =\u003e \u003cApp url={window.location.pathname} /\u003e\\n);\",\"language\":\"typescript\",\"filename\":\"client.ts\"}],[\"$\",\"h2\",null,{\"id\":\"streaming\",\"children\":\"Streaming SSR\"}],[\"$\",\"p\",null,{\"children\":\"Stream HTML progressively for faster Time to First Byte:\"}],[\"$\",\"$L4\",null,{\"code\":\"import { renderToStream } from 'philjs-ssr';\\nimport App from './App';\\n\\nconst handler = async (req: Request) =\u003e {\\n  const stream = renderToStream(() =\u003e \u003cApp /\u003e);\\n\\n  return new Response(stream, {\\n    headers: {\\n      'Content-Type': 'text/html',\\n      'Transfer-Encoding': 'chunked',\\n    },\\n  });\\n};\",\"language\":\"typescript\",\"filename\":\"streaming-server.ts\"}],[\"$\",\"h3\",null,{\"id\":\"suspense-streaming\",\"children\":\"Streaming with Suspense\"}],[\"$\",\"p\",null,{\"children\":\"Combine streaming with Suspense for progressive loading:\"}],[\"$\",\"$L4\",null,{\"code\":\"import { Suspense, createResource } from 'philjs-core';\\n\\nfunction App() {\\n  return (\\n    \u003chtml\u003e\\n      \u003chead\u003e\\n        \u003ctitle\u003eMy App\u003c/title\u003e\\n      \u003c/head\u003e\\n      \u003cbody\u003e\\n        {/* This renders immediately */}\\n        \u003cHeader /\u003e\\n\\n        {/* This streams when data is ready */}\\n        \u003cSuspense fallback={\u003cArticleSkeleton /\u003e}\u003e\\n          \u003cArticleContent /\u003e\\n        \u003c/Suspense\u003e\\n\\n        {/* This also streams when ready */}\\n        \u003cSuspense fallback={\u003cCommentsSkeleton /\u003e}\u003e\\n          \u003cComments /\u003e\\n        \u003c/Suspense\u003e\\n\\n        \u003cFooter /\u003e\\n      \u003c/body\u003e\\n    \u003c/html\u003e\\n  );\\n}\\n\\nfunction ArticleContent() {\\n  // Data fetching inside component\\n  const [article] = createResource(() =\u003e fetchArticle());\\n\\n  return (\\n    \u003carticle\u003e\\n      \u003ch1\u003e{article()?.title}\u003c/h1\u003e\\n      \u003cdiv innerHTML={article()?.content} /\u003e\\n    \u003c/article\u003e\\n  );\\n}\",\"language\":\"tsx\",\"filename\":\"StreamingApp.tsx\"}],[\"$\",\"$L5\",null,{\"type\":\"info\",\"title\":\"How Streaming Works\",\"children\":\"The server sends the shell immediately, then streams in Suspense content as it resolves. The client receives chunks progressively and can start parsing/rendering before the full response completes.\"}],[\"$\",\"h2\",null,{\"id\":\"islands\",\"children\":\"Islands Architecture\"}],[\"$\",\"p\",null,{\"children\":\"Render a static HTML shell with interactive \\\"islands\\\" that hydrate independently:\"}],[\"$\",\"$L4\",null,{\"code\":\"import { Island } from 'philjs-ssr';\\n\\nfunction ProductPage({ product }: { product: Product }) {\\n  return (\\n    \u003cdiv\u003e\\n      {/* Static content - no JS */}\\n      \u003cheader\u003e\\n        \u003cnav\u003e...\u003c/nav\u003e\\n      \u003c/header\u003e\\n\\n      \u003cmain\u003e\\n        \u003ch1\u003e{product.name}\u003c/h1\u003e\\n        \u003cimg src={product.image} alt={product.name} /\u003e\\n        \u003cp\u003e{product.description}\u003c/p\u003e\\n\\n        {/* Interactive island - hydrates independently */}\\n        \u003cIsland component={AddToCartButton} props={{ productId: product.id }}\u003e\\n          \u003cbutton disabled\u003eAdd to Cart\u003c/button\u003e\\n        \u003c/Island\u003e\\n\\n        {/* Another island */}\\n        \u003cIsland component={ProductReviews} props={{ productId: product.id }}\u003e\\n          \u003cdiv\u003eLoading reviews...\u003c/div\u003e\\n        \u003c/Island\u003e\\n      \u003c/main\u003e\\n\\n      {/* Static footer */}\\n      \u003cfooter\u003e...\u003c/footer\u003e\\n    \u003c/div\u003e\\n  );\\n}\",\"language\":\"tsx\",\"filename\":\"ProductPage.tsx\"}],[\"$\",\"$L4\",null,{\"code\":\"// AddToCartButton.tsx - Only this code ships to client\\nimport { createSignal } from 'philjs-core';\\n\\nexport function AddToCartButton({ productId }: { productId: string }) {\\n  const [adding, setAdding] = createSignal(false);\\n  const [added, setAdded] = createSignal(false);\\n\\n  const handleAdd = async () =\u003e {\\n    setAdding(true);\\n    await cart.add(productId);\\n    setAdding(false);\\n    setAdded(true);\\n  };\\n\\n  return (\\n    \u003cbutton onClick={handleAdd} disabled={adding()}\u003e\\n      {adding() ? 'Adding...' : added() ? 'Added!' : 'Add to Cart'}\\n    \u003c/button\u003e\\n  );\\n}\",\"language\":\"tsx\",\"filename\":\"AddToCartButton.tsx\"}],[\"$\",\"h3\",null,{\"id\":\"island-hydration\",\"children\":\"Island Hydration Strategies\"}],[\"$\",\"$L4\",null,{\"code\":\"// Hydrate on page load (default)\\n\u003cIsland component={Widget} /\u003e\\n\\n// Hydrate when visible in viewport\\n\u003cIsland component={Widget} client:visible /\u003e\\n\\n// Hydrate when browser is idle\\n\u003cIsland component={Widget} client:idle /\u003e\\n\\n// Hydrate on user interaction\\n\u003cIsland component={Widget} client:hover /\u003e\\n\u003cIsland component={Widget} client:click /\u003e\\n\\n// Never hydrate (static only)\\n\u003cIsland component={Widget} client:none /\u003e\\n\\n// Hydrate on media query\\n\u003cIsland component={Widget} client:media=\\\"(min-width: 768px)\\\" /\u003e\",\"language\":\"tsx\",\"filename\":\"island-strategies.tsx\"}],[\"$\",\"h2\",null,{\"id\":\"resumability\",\"children\":\"Resumability\"}],[\"$\",\"p\",null,{\"children\":\"PhilJS supports Qwik-style resumability where the application can resume execution without re-running initialization code:\"}],[\"$\",\"$L4\",null,{\"code\":\"import { component$, useSignal, $ } from 'philjs-resumable';\\n\\n// This component is resumable - no hydration needed\\nexport const Counter = component$(() =\u003e {\\n  const count = useSignal(0);\\n\\n  // Event handler is lazy-loaded on first interaction\\n  const increment = $(() =\u003e {\\n    count.value++;\\n  });\\n\\n  return (\\n    \u003cbutton onClick$={increment}\u003e\\n      Count: {count.value}\\n    \u003c/button\u003e\\n  );\\n});\",\"language\":\"tsx\",\"filename\":\"ResumableCounter.tsx\"}],[\"$\",\"$L5\",null,{\"type\":\"info\",\"title\":\"When to Use Resumability\",\"children\":\"Resumability is ideal for content-heavy sites where most users don't interact. It provides instant interactivity without downloading or executing component code until needed.\"}],[\"$\",\"h2\",null,{\"id\":\"data-loading\",\"children\":\"Data Loading\"}],[\"$\",\"p\",null,{\"children\":\"Load data on the server and pass it to components:\"}],[\"$\",\"$L4\",null,{\"code\":\"// Using loaders (route-level data)\\nimport { createRouteLoader } from 'philjs-router';\\n\\nexport const loader = createRouteLoader(async ({ params }) =\u003e {\\n  const user = await db.users.find(params.id);\\n  if (!user) throw new Response('Not Found', { status: 404 });\\n  return { user };\\n});\\n\\nexport default function UserPage() {\\n  const data = useLoaderData\u003ctypeof loader\u003e();\\n\\n  return (\\n    \u003cdiv\u003e\\n      \u003ch1\u003e{data.user.name}\u003c/h1\u003e\\n      \u003cp\u003e{data.user.bio}\u003c/p\u003e\\n    \u003c/div\u003e\\n  );\\n}\",\"language\":\"tsx\",\"filename\":\"UserPage.tsx\"}],[\"$\",\"h3\",null,{\"id\":\"server-functions\",\"children\":\"Server Functions\"}],[\"$\",\"$L4\",null,{\"code\":\"// Define server-only functions\\n'use server';\\n\\nimport { createServerFn } from 'philjs-ssr';\\n\\nexport const getUser = createServerFn(async (id: string) =\u003e {\\n  // This only runs on the server\\n  const user = await db.users.find(id);\\n  return user;\\n});\\n\\nexport const updateUser = createServerFn(async (id: string, data: UserUpdate) =\u003e {\\n  // Validate and update\\n  await db.users.update(id, data);\\n  return { success: true };\\n});\\n\\n// Use in components - automatically becomes RPC call on client\\nfunction UserProfile({ userId }: { userId: string }) {\\n  const [user] = createResource(() =\u003e getUser(userId));\\n\\n  const handleSave = async (data: UserUpdate) =\u003e {\\n    await updateUser(userId, data);\\n  };\\n\\n  return (\\n    \u003cShow when={user()}\u003e\\n      {(u) =\u003e \u003cProfileForm user={u} onSave={handleSave} /\u003e}\\n    \u003c/Show\u003e\\n  );\\n}\",\"language\":\"tsx\",\"filename\":\"server-functions.tsx\"}],[\"$\",\"h2\",null,{\"id\":\"seo\",\"children\":\"SEO \u0026 Meta Tags\"}],[\"$\",\"$L4\",null,{\"code\":\"import { Title, Meta, Link } from 'philjs-ssr';\\n\\nfunction ProductPage({ product }: { product: Product }) {\\n  return (\\n    \u003c\u003e\\n      \u003cTitle\u003e{product.name} | My Store\u003c/Title\u003e\\n      \u003cMeta name=\\\"description\\\" content={product.description} /\u003e\\n      \u003cMeta property=\\\"og:title\\\" content={product.name} /\u003e\\n      \u003cMeta property=\\\"og:image\\\" content={product.image} /\u003e\\n      \u003cMeta property=\\\"og:type\\\" content=\\\"product\\\" /\u003e\\n      \u003cLink rel=\\\"canonical\\\" href={`https://mystore.com/products/${product.slug}`} /\u003e\\n\\n      {/* Structured data */}\\n      \u003cscript type=\\\"application/ld+json\\\"\u003e\\n        {JSON.stringify({\\n          \\\"@context\\\": \\\"https://schema.org\\\",\\n          \\\"@type\\\": \\\"Product\\\",\\n          name: product.name,\\n          description: product.description,\\n          image: product.image,\\n          offers: {\\n            \\\"@type\\\": \\\"Offer\\\",\\n            price: product.price,\\n            priceCurrency: \\\"USD\\\",\\n          },\\n        })}\\n      \u003c/script\u003e\\n\\n      \u003cmain\u003e\\n        \u003ch1\u003e{product.name}\u003c/h1\u003e\\n        {/* ... */}\\n      \u003c/main\u003e\\n    \u003c/\u003e\\n  );\\n}\",\"language\":\"tsx\",\"filename\":\"SEO.tsx\"}],[\"$\",\"h2\",null,{\"id\":\"caching\",\"children\":\"Caching Strategies\"}],[\"$\",\"$L4\",null,{\"code\":\"import { renderToString, cache } from 'philjs-ssr';\\n\\n// Cache full page renders\\nconst cachedRender = cache(\\n  async (url: string) =\u003e {\\n    return renderToString(() =\u003e \u003cApp url={url} /\u003e);\\n  },\\n  {\\n    maxAge: 60, // seconds\\n    staleWhileRevalidate: 300,\\n  }\\n);\\n\\n// Cache data fetches\\nconst getCachedProducts = cache(\\n  async () =\u003e db.products.findMany(),\\n  { maxAge: 300 }\\n);\\n\\n// Component-level caching\\nfunction ProductList() {\\n  const [products] = createResource(getCachedProducts);\\n\\n  return (\\n    \u003cFor each={products()}\u003e\\n      {(product) =\u003e \u003cProductCard product={product} /\u003e}\\n    \u003c/For\u003e\\n  );\\n}\",\"language\":\"typescript\",\"filename\":\"caching.ts\"}],[\"$\",\"h2\",null,{\"id\":\"error-handling\",\"children\":\"Error Handling\"}],[\"$\",\"$L4\",null,{\"code\":\"import { ErrorBoundary } from 'philjs-core';\\n\\nfunction App() {\\n  return (\\n    \u003cErrorBoundary\\n      fallback={(err, reset) =\u003e (\\n        \u003cdiv class=\\\"error-page\\\"\u003e\\n          \u003ch1\u003eSomething went wrong\u003c/h1\u003e\\n          \u003cp\u003e{err.message}\u003c/p\u003e\\n          \u003cbutton onClick={reset}\u003eTry Again\u003c/button\u003e\\n        \u003c/div\u003e\\n      )}\\n    \u003e\\n      \u003cRouter\u003e\\n        \u003cRoute path=\\\"/\\\" component={Home} /\u003e\\n        \u003cRoute path=\\\"/products/:id\\\" component={ProductPage} /\u003e\\n      \u003c/Router\u003e\\n    \u003c/ErrorBoundary\u003e\\n  );\\n}\\n\\n// Route-level error handling\\nexport function errorBoundary(error: Error) {\\n  if (error.status === 404) {\\n    return \u003cNotFoundPage /\u003e;\\n  }\\n  return \u003cErrorPage error={error} /\u003e;\\n}\",\"language\":\"tsx\",\"filename\":\"ErrorHandling.tsx\"}],[\"$\",\"h2\",null,{\"id\":\"next-steps\",\"children\":\"Next Steps\"}],[\"$\",\"div\",null,{\"className\":\"grid md:grid-cols-2 gap-4 mt-6 not-prose\",\"children\":[[\"$\",\"$L6\",null,{\"href\":\"/docs/guides/deployment\",\"className\":\"block p-4 border border-surface-200 dark:border-surface-700 rounded-lg hover:border-primary-300 dark:hover:border-primary-700 transition-colors\",\"children\":[[\"$\",\"h3\",null,{\"className\":\"font-semibold text-surface-900 dark:text-white\",\"children\":\"Deployment\"}],[\"$\",\"p\",null,{\"className\":\"text-sm text-surface-600 dark:text-surface-400 mt-1\",\"children\":\"Deploy your SSR application\"}]]}],[\"$\",\"$L6\",null,{\"href\":\"/docs/api/philjs-ssr\",\"className\":\"block p-4 border border-surface-200 dark:border-surface-700 rounded-lg hover:border-primary-300 dark:hover:border-primary-700 transition-colors\",\"children\":[[\"$\",\"h3\",null,{\"className\":\"font-semibold text-surface-900 dark:text-white\",\"children\":\"SSR API Reference\"}],[\"$\",\"p\",null,{\"className\":\"text-sm text-surface-600 dark:text-surface-400 mt-1\",\"children\":\"Complete API for server-side rendering\"}]]}]]}]]}],null],null],null]},[null,[\"$\",\"$L7\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\",\"docs\",\"children\",\"guides\",\"children\",\"ssr-hydration\",\"children\"],\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L8\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"notFoundStyles\":\"$undefined\"}]],null]},[null,[\"$\",\"$L7\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\",\"docs\",\"children\",\"guides\",\"children\"],\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L8\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"notFoundStyles\":\"$undefined\"}]],null]},[[null,[\"$\",\"div\",null,{\"className\":\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\",\"children\":[\"$\",\"div\",null,{\"className\":\"flex gap-12\",\"children\":[[\"$\",\"$L9\",null,{\"sections\":\"$a\"}],[\"$\",\"main\",null,{\"className\":\"flex-1 min-w-0\",\"children\":[\"$\",\"article\",null,{\"className\":\"prose prose-surface dark:prose-invert max-w-none\",\"children\":[\"$\",\"$L7\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\",\"docs\",\"children\"],\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L8\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"notFoundStyles\":\"$undefined\"}]}]}]]}]}]],null],null]},[[[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/00bb994365e07be9.css\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\"}]],[\"$\",\"html\",null,{\"lang\":\"en\",\"suppressHydrationWarning\":true,\"children\":[\"$\",\"body\",null,{\"className\":\"__variable_f367f3 __variable_3c557b font-sans antialiased\",\"children\":[\"$\",\"$Lb\",null,{\"children\":[\"$\",\"div\",null,{\"className\":\"min-h-screen bg-white dark:bg-surface-950\",\"children\":[[\"$\",\"$Lc\",null,{}],[\"$\",\"$L7\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\"],\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L8\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":[[\"$\",\"title\",null,{\"children\":\"404: This page could not be found.\"}],[\"$\",\"div\",null,{\"style\":{\"fontFamily\":\"system-ui,\\\"Segoe UI\\\",Roboto,Helvetica,Arial,sans-serif,\\\"Apple Color Emoji\\\",\\\"Segoe UI Emoji\\\"\",\"height\":\"100vh\",\"textAlign\":\"center\",\"display\":\"flex\",\"flexDirection\":\"column\",\"alignItems\":\"center\",\"justifyContent\":\"center\"},\"children\":[\"$\",\"div\",null,{\"children\":[[\"$\",\"style\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"body{color:#000;background:#fff;margin:0}.next-error-h1{border-right:1px solid rgba(0,0,0,.3)}@media (prefers-color-scheme:dark){body{color:#fff;background:#000}.next-error-h1{border-right:1px solid rgba(255,255,255,.3)}}\"}}],[\"$\",\"h1\",null,{\"className\":\"next-error-h1\",\"style\":{\"display\":\"inline-block\",\"margin\":\"0 20px 0 0\",\"padding\":\"0 23px 0 0\",\"fontSize\":24,\"fontWeight\":500,\"verticalAlign\":\"top\",\"lineHeight\":\"49px\"},\"children\":\"404\"}],[\"$\",\"div\",null,{\"style\":{\"display\":\"inline-block\"},\"children\":[\"$\",\"h2\",null,{\"style\":{\"fontSize\":14,\"fontWeight\":400,\"lineHeight\":\"49px\",\"margin\":0},\"children\":\"This page could not be found.\"}]}]]}]}]],\"notFoundStyles\":[]}]]}]}]}]}]],null],null],\"couldBeIntercepted\":false,\"initialHead\":[null,\"$Ld\"],\"globalErrorComponent\":\"$e\",\"missingSlots\":\"$Wf\"}]\n"])</script><script>self.__next_f.push([1,"d:[[\"$\",\"meta\",\"0\",{\"name\":\"viewport\",\"content\":\"width=device-width, initial-scale=1\"}],[\"$\",\"meta\",\"1\",{\"charSet\":\"utf-8\"}],[\"$\",\"title\",\"2\",{\"children\":\"SSR \u0026 Hydration Guide | PhilJS\"}],[\"$\",\"meta\",\"3\",{\"name\":\"description\",\"content\":\"Server-side rendering, hydration strategies, and streaming in PhilJS.\"}],[\"$\",\"meta\",\"4\",{\"name\":\"author\",\"content\":\"PhilJS Team\"}],[\"$\",\"link\",\"5\",{\"rel\":\"manifest\",\"href\":\"/site.webmanifest\",\"crossOrigin\":\"use-credentials\"}],[\"$\",\"meta\",\"6\",{\"name\":\"keywords\",\"content\":\"philjs,javascript,typescript,rust,framework,signals,reactivity,wasm\"}],[\"$\",\"meta\",\"7\",{\"property\":\"og:title\",\"content\":\"PhilJS - The Modern Web Framework\"}],[\"$\",\"meta\",\"8\",{\"property\":\"og:description\",\"content\":\"A fast, modern web framework with fine-grained reactivity and optional Rust integration.\"}],[\"$\",\"meta\",\"9\",{\"property\":\"og:url\",\"content\":\"https://philjs.dev/\"}],[\"$\",\"meta\",\"10\",{\"property\":\"og:site_name\",\"content\":\"PhilJS\"}],[\"$\",\"meta\",\"11\",{\"property\":\"og:locale\",\"content\":\"en_US\"}],[\"$\",\"meta\",\"12\",{\"property\":\"og:image\",\"content\":\"https://philjs.dev/og-image.png\"}],[\"$\",\"meta\",\"13\",{\"property\":\"og:image:width\",\"content\":\"1200\"}],[\"$\",\"meta\",\"14\",{\"property\":\"og:image:height\",\"content\":\"630\"}],[\"$\",\"meta\",\"15\",{\"property\":\"og:image:alt\",\"content\":\"PhilJS Framework\"}],[\"$\",\"meta\",\"16\",{\"property\":\"og:type\",\"content\":\"website\"}],[\"$\",\"meta\",\"17\",{\"name\":\"twitter:card\",\"content\":\"summary_large_image\"}],[\"$\",\"meta\",\"18\",{\"name\":\"twitter:title\",\"content\":\"PhilJS - The Modern Web Framework\"}],[\"$\",\"meta\",\"19\",{\"name\":\"twitter:description\",\"content\":\"A fast, modern web framework with fine-grained reactivity and optional Rust integration.\"}],[\"$\",\"meta\",\"20\",{\"name\":\"twitter:image\",\"content\":\"https://philjs.dev/og-image.png\"}],[\"$\",\"link\",\"21\",{\"rel\":\"shortcut icon\",\"href\":\"/favicon-16x16.png\"}],[\"$\",\"link\",\"22\",{\"rel\":\"icon\",\"href\":\"/favicon.ico\"}],[\"$\",\"link\",\"23\",{\"rel\":\"apple-touch-icon\",\"href\":\"/apple-touch-icon.png\"}]]\n3:null\n"])</script></body></html>