2:I[8850,["1763","static/chunks/1763-be59ea8b08cc01ae.js","7696","static/chunks/7696-3ed40d5e79880c18.js","6664","static/chunks/app/docs/rust-guide/wasm/page-b6bf11c1357cd2e9.js"],"Terminal"]
3:I[8850,["1763","static/chunks/1763-be59ea8b08cc01ae.js","7696","static/chunks/7696-3ed40d5e79880c18.js","6664","static/chunks/app/docs/rust-guide/wasm/page-b6bf11c1357cd2e9.js"],"CodeBlock"]
5:I[7696,["1763","static/chunks/1763-be59ea8b08cc01ae.js","7696","static/chunks/7696-3ed40d5e79880c18.js","6664","static/chunks/app/docs/rust-guide/wasm/page-b6bf11c1357cd2e9.js"],"Callout"]
6:I[6542,["1763","static/chunks/1763-be59ea8b08cc01ae.js","7696","static/chunks/7696-3ed40d5e79880c18.js","6664","static/chunks/app/docs/rust-guide/wasm/page-b6bf11c1357cd2e9.js"],""]
7:I[6419,[],""]
8:I[8445,[],""]
9:I[8765,["1763","static/chunks/1763-be59ea8b08cc01ae.js","3998","static/chunks/app/docs/layout-7a64e01358952c8e.js"],"Sidebar"]
a:I[8765,["1763","static/chunks/1763-be59ea8b08cc01ae.js","3998","static/chunks/app/docs/layout-7a64e01358952c8e.js"],"docsNavigation"]
b:I[1229,["1763","static/chunks/1763-be59ea8b08cc01ae.js","2793","static/chunks/2793-28ddd1020ce77999.js","3185","static/chunks/app/layout-575709e7d70e2afe.js"],"ThemeProvider"]
c:I[8529,["1763","static/chunks/1763-be59ea8b08cc01ae.js","2793","static/chunks/2793-28ddd1020ce77999.js","3185","static/chunks/app/layout-575709e7d70e2afe.js"],"Header"]
4:T433,// Service Worker for offline support
// sw.js
const CACHE_NAME = 'philjs-app-v1';
const WASM_CACHE = 'philjs-wasm-v1';

const STATIC_ASSETS = [
    '/',
    '/index.html',
    '/styles.css',
];

const WASM_ASSETS = [
    '/pkg/my-app.js',
    '/pkg/my-app_bg.wasm',
];

self.addEventListener('install', (event) => {
    event.waitUntil(
        Promise.all([
            caches.open(CACHE_NAME).then(cache => cache.addAll(STATIC_ASSETS)),
            caches.open(WASM_CACHE).then(cache => cache.addAll(WASM_ASSETS)),
        ])
    );
});

self.addEventListener('fetch', (event) => {
    const url = new URL(event.request.url);

    // Cache-first for WASM files
    if (url.pathname.endsWith('.wasm') || url.pathname.includes('/pkg/')) {
        event.respondWith(
            caches.match(event.request).then(response => {
                return response || fetch(event.request);
            })
        );
        return;
    }

    // Network-first for other requests
    event.respondWith(
        fetch(event.request).catch(() => caches.match(event.request))
    );
});0:["cd22Ei08xvul0IDkb5kRy",[[["",{"children":["docs",{"children":["rust-guide",{"children":["wasm",{"children":["__PAGE__",{}]}]}]}]},"$undefined","$undefined",true],["",{"children":["docs",{"children":["rust-guide",{"children":["wasm",{"children":["__PAGE__",{},[["$L1",["$","div",null,{"className":"mdx-content","children":[["$","h1",null,{"children":"WASM Deployment"}],["$","p",null,{"className":"lead text-xl text-surface-600 dark:text-surface-400","children":"Deploy your PhilJS application as WebAssembly for near-native performance in the browser. This guide covers client-side-only (CSR) and static site generation (SSG) deployments."}],["$","h2",null,{"id":"build-modes","children":"Build Modes"}],["$","h3",null,{"children":"Client-Side Rendering (CSR)"}],["$","p",null,{"children":"Pure client-side rendering compiles your entire app to WASM. The browser downloads the WASM bundle and renders the UI dynamically."}],["$","$L2",null,{"commands":["# Build for CSR","cargo philjs build --release --features csr","","# Output in dist/ directory","ls dist/","# index.html","# pkg/","#   my-app.js","#   my-app_bg.wasm"]}],["$","h3",null,{"children":"Static Site Generation (SSG)"}],["$","p",null,{"children":"Pre-render all pages at build time for instant loading and SEO benefits."}],["$","$L2",null,{"commands":["# Build with SSG","cargo philjs build --release --features ssr --ssg","","# Output includes pre-rendered HTML","ls dist/","# index.html","# about/index.html","# todos/index.html","# pkg/"]}],["$","h2",null,{"id":"optimization","children":"Optimization"}],["$","h3",null,{"children":"WASM Size Optimization"}],["$","$L3",null,{"code":"# Cargo.toml\n[profile.release]\nopt-level = 'z'      # Optimize for size\nlto = true           # Enable Link Time Optimization\ncodegen-units = 1    # Reduce parallel codegen for better optimization\npanic = 'abort'      # Remove panic unwinding code\nstrip = true         # Strip debug symbols\n\n[profile.release.package.\"*\"]\nopt-level = 'z'","language":"toml","filename":"Cargo.toml"}],["$","h3",null,{"children":"wasm-opt"}],["$","$L2",null,{"commands":["# Install wasm-opt (part of binaryen)","npm install -g binaryen","","# Optimize the WASM file","wasm-opt -Oz -o output.wasm input.wasm","","# With cargo-philjs (automatic)","cargo philjs build --release --wasm-opt"]}],["$","h3",null,{"children":"Code Splitting"}],["$","$L3",null,{"code":"use philjs::prelude::*;\n\n// Lazy load heavy components\n#[component]\nfn App() -> impl IntoView {\n    view! {\n        <Router>\n            <Routes>\n                <Route path=\"/\" view=HomePage/>\n                // Lazy loaded routes\n                <Route\n                    path=\"/dashboard\"\n                    view=|| {\n                        let Dashboard = lazy(|| import(\"./pages/dashboard\"));\n                        view! {\n                            <Suspense fallback=|| \"Loading...\">\n                                <Dashboard/>\n                            </Suspense>\n                        }\n                    }\n                />\n            </Routes>\n        </Router>\n    }\n}","language":"rust"}],["$","h2",null,{"id":"deployment-targets","children":"Deployment Targets"}],["$","h3",null,{"children":"Cloudflare Pages"}],["$","$L3",null,{"code":"# wrangler.toml\nname = \"my-philjs-app\"\ncompatibility_date = \"2024-01-01\"\n\n[site]\nbucket = \"./dist\"\n\n[build]\ncommand = \"cargo philjs build --release --features csr\"","language":"toml","filename":"wrangler.toml"}],["$","$L2",null,{"commands":["# Deploy to Cloudflare Pages","npx wrangler pages deploy dist --project-name=my-app"]}],["$","h3",null,{"children":"Netlify"}],["$","$L3",null,{"code":"# netlify.toml\n[build]\n  command = \"cargo philjs build --release --features csr\"\n  publish = \"dist\"\n\n[[headers]]\n  for = \"/*.wasm\"\n  [headers.values]\n    Content-Type = \"application/wasm\"\n    Cache-Control = \"public, max-age=31536000, immutable\"\n\n[[headers]]\n  for = \"/*\"\n  [headers.values]\n    X-Content-Type-Options = \"nosniff\"","language":"toml","filename":"netlify.toml"}],["$","h3",null,{"children":"Vercel"}],["$","$L3",null,{"code":"{\n  \"buildCommand\": \"cargo philjs build --release --features csr\",\n  \"outputDirectory\": \"dist\",\n  \"headers\": [\n    {\n      \"source\": \"/(.*).wasm\",\n      \"headers\": [\n        { \"key\": \"Content-Type\", \"value\": \"application/wasm\" },\n        { \"key\": \"Cache-Control\", \"value\": \"public, max-age=31536000, immutable\" }\n      ]\n    }\n  ]\n}","language":"json","filename":"vercel.json"}],["$","h3",null,{"children":"GitHub Pages"}],["$","$L3",null,{"code":"name: Deploy to GitHub Pages\n\non:\n  push:\n    branches: [main]\n\njobs:\n  build-and-deploy:\n    runs-on: ubuntu-latest\n    steps:\n      - uses: actions/checkout@v4\n\n      - name: Install Rust\n        uses: dtolnay/rust-action@stable\n        with:\n          targets: wasm32-unknown-unknown\n\n      - name: Install cargo-philjs\n        run: cargo install cargo-philjs\n\n      - name: Build\n        run: cargo philjs build --release --features csr\n\n      - name: Deploy\n        uses: peaceiris/actions-gh-pages@v3\n        with:\n          github_token: ${{ secrets.GITHUB_TOKEN }}\n          publish_dir: ./dist","language":"yaml","filename":".github/workflows/deploy.yml"}],["$","h2",null,{"id":"loading-strategies","children":"Loading Strategies"}],["$","h3",null,{"children":"Streaming Instantiation"}],["$","$L3",null,{"code":"<!-- index.html -->\n<!DOCTYPE html>\n<html>\n<head>\n    <meta charset=\"utf-8\">\n    <title>My App</title>\n    <link rel=\"modulepreload\" href=\"/pkg/my-app.js\">\n    <link rel=\"preload\" href=\"/pkg/my-app_bg.wasm\" as=\"fetch\" crossorigin>\n</head>\n<body>\n    <div id=\"app\">\n        <!-- Loading indicator shown while WASM loads -->\n        <div class=\"loading\">Loading...</div>\n    </div>\n\n    <script type=\"module\">\n        // Use streaming instantiation for faster startup\n        import init, { hydrate } from '/pkg/my-app.js';\n\n        // Start loading WASM immediately\n        const wasmPromise = init();\n\n        // Wait for DOM to be ready\n        if (document.readyState === 'loading') {\n            document.addEventListener('DOMContentLoaded', async () => {\n                await wasmPromise;\n                hydrate();\n            });\n        } else {\n            wasmPromise.then(hydrate);\n        }\n    </script>\n</body>\n</html>","language":"html","filename":"index.html"}],["$","h3",null,{"children":"Progressive Enhancement"}],["$","$L3",null,{"code":"<!-- Show content even before WASM loads -->\n<div id=\"app\">\n    <!-- Server-rendered or static HTML -->\n    <header>\n        <nav>\n            <a href=\"/\">Home</a>\n            <a href=\"/about\">About</a>\n        </nav>\n    </header>\n    <main>\n        <h1>Welcome</h1>\n        <p>Content is visible immediately.</p>\n        <button disabled data-philjs-interactive>\n            Click me (loading...)\n        </button>\n    </main>\n</div>\n\n<script type=\"module\">\n    import init, { hydrate } from '/pkg/my-app.js';\n\n    await init();\n    hydrate();\n\n    // Enable interactive elements after hydration\n    document.querySelectorAll('[data-philjs-interactive]').forEach(el => {\n        el.removeAttribute('disabled');\n        el.textContent = el.textContent.replace(' (loading...)', '');\n    });\n</script>","language":"html"}],["$","h2",null,{"id":"caching","children":"Caching Strategies"}],["$","$L3",null,{"code":"$4","language":"javascript","filename":"sw.js"}],["$","h2",null,{"id":"debugging","children":"Debugging"}],["$","$L5",null,{"type":"info","title":"Debug Builds","children":"Debug builds include better error messages and source maps but are much larger. Only use for development."}],["$","$L2",null,{"commands":["# Debug build with source maps","cargo philjs build --dev","","# Enable console_error_panic_hook","# (already included in PhilJS apps)"]}],["$","$L3",null,{"code":"// In your lib.rs\n#[wasm_bindgen(start)]\npub fn main() {\n    // Better panic messages in browser console\n    console_error_panic_hook::set_once();\n\n    // Enable logging\n    #[cfg(debug_assertions)]\n    {\n        console_log::init_with_level(log::Level::Debug).unwrap();\n    }\n\n    mount_to_body(App);\n}","language":"rust"}],["$","h2",null,{"id":"performance-tips","children":"Performance Tips"}],["$","ul",null,{"children":[["$","li",null,{"children":[["$","strong",null,{"children":"Use gzip/brotli compression:"}]," WASM files compress very well"]}],["$","li",null,{"children":[["$","strong",null,{"children":"Preload critical assets:"}]," Use ",["$","code",null,{"children":"<link rel=\"preload\">"}]]}],["$","li",null,{"children":[["$","strong",null,{"children":"Code split:"}]," Lazy load non-critical routes"]}],["$","li",null,{"children":[["$","strong",null,{"children":"Tree shake:"}]," Avoid unused dependencies"]}],["$","li",null,{"children":[["$","strong",null,{"children":"Use release builds:"}]," Debug builds are 10x+ larger"]}]]}],["$","h2",null,{"id":"next-steps","children":"Next Steps"}],["$","div",null,{"className":"grid md:grid-cols-2 gap-4 mt-6 not-prose","children":[["$","$L6",null,{"href":"/docs/rust-guide/axum","className":"block p-4 border border-surface-200 dark:border-surface-700 rounded-lg hover:border-primary-300 dark:hover:border-primary-700 transition-colors","children":[["$","h3",null,{"className":"font-semibold text-surface-900 dark:text-white","children":"Axum Integration"}],["$","p",null,{"className":"text-sm text-surface-600 dark:text-surface-400 mt-1","children":"Build full-stack apps with SSR"}]]}],["$","$L6",null,{"href":"/docs/guides/deployment","className":"block p-4 border border-surface-200 dark:border-surface-700 rounded-lg hover:border-primary-300 dark:hover:border-primary-700 transition-colors","children":[["$","h3",null,{"className":"font-semibold text-surface-900 dark:text-white","children":"Deployment Guide"}],["$","p",null,{"className":"text-sm text-surface-600 dark:text-surface-400 mt-1","children":"General deployment strategies"}]]}]]}]]}],null],null],null]},[null,["$","$L7",null,{"parallelRouterKey":"children","segmentPath":["children","docs","children","rust-guide","children","wasm","children"],"error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L8",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":"$undefined","notFoundStyles":"$undefined"}]],null]},[null,["$","$L7",null,{"parallelRouterKey":"children","segmentPath":["children","docs","children","rust-guide","children"],"error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L8",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":"$undefined","notFoundStyles":"$undefined"}]],null]},[[null,["$","div",null,{"className":"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8","children":["$","div",null,{"className":"flex gap-12","children":[["$","$L9",null,{"sections":"$a"}],["$","main",null,{"className":"flex-1 min-w-0","children":["$","article",null,{"className":"prose prose-surface dark:prose-invert max-w-none","children":["$","$L7",null,{"parallelRouterKey":"children","segmentPath":["children","docs","children"],"error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L8",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":"$undefined","notFoundStyles":"$undefined"}]}]}]]}]}]],null],null]},[[[["$","link","0",{"rel":"stylesheet","href":"/_next/static/css/00bb994365e07be9.css","precedence":"next","crossOrigin":"$undefined"}]],["$","html",null,{"lang":"en","suppressHydrationWarning":true,"children":["$","body",null,{"className":"__variable_f367f3 __variable_3c557b font-sans antialiased","children":["$","$Lb",null,{"children":["$","div",null,{"className":"min-h-screen bg-white dark:bg-surface-950","children":[["$","$Lc",null,{}],["$","$L7",null,{"parallelRouterKey":"children","segmentPath":["children"],"error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L8",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":[["$","title",null,{"children":"404: This page could not be found."}],["$","div",null,{"style":{"fontFamily":"system-ui,\"Segoe UI\",Roboto,Helvetica,Arial,sans-serif,\"Apple Color Emoji\",\"Segoe UI Emoji\"","height":"100vh","textAlign":"center","display":"flex","flexDirection":"column","alignItems":"center","justifyContent":"center"},"children":["$","div",null,{"children":[["$","style",null,{"dangerouslySetInnerHTML":{"__html":"body{color:#000;background:#fff;margin:0}.next-error-h1{border-right:1px solid rgba(0,0,0,.3)}@media (prefers-color-scheme:dark){body{color:#fff;background:#000}.next-error-h1{border-right:1px solid rgba(255,255,255,.3)}}"}}],["$","h1",null,{"className":"next-error-h1","style":{"display":"inline-block","margin":"0 20px 0 0","padding":"0 23px 0 0","fontSize":24,"fontWeight":500,"verticalAlign":"top","lineHeight":"49px"},"children":"404"}],["$","div",null,{"style":{"display":"inline-block"},"children":["$","h2",null,{"style":{"fontSize":14,"fontWeight":400,"lineHeight":"49px","margin":0},"children":"This page could not be found."}]}]]}]}]],"notFoundStyles":[]}]]}]}]}]}]],null],null],["$Ld",null]]]]
d:[["$","meta","0",{"name":"viewport","content":"width=device-width, initial-scale=1"}],["$","meta","1",{"charSet":"utf-8"}],["$","title","2",{"children":"WASM Deployment | PhilJS"}],["$","meta","3",{"name":"description","content":"Deploy PhilJS applications as WebAssembly for maximum performance."}],["$","meta","4",{"name":"author","content":"PhilJS Team"}],["$","link","5",{"rel":"manifest","href":"/site.webmanifest","crossOrigin":"use-credentials"}],["$","meta","6",{"name":"keywords","content":"philjs,javascript,typescript,rust,framework,signals,reactivity,wasm"}],["$","meta","7",{"property":"og:title","content":"PhilJS - The Modern Web Framework"}],["$","meta","8",{"property":"og:description","content":"A fast, modern web framework with fine-grained reactivity and optional Rust integration."}],["$","meta","9",{"property":"og:url","content":"https://philjs.dev/"}],["$","meta","10",{"property":"og:site_name","content":"PhilJS"}],["$","meta","11",{"property":"og:locale","content":"en_US"}],["$","meta","12",{"property":"og:image","content":"https://philjs.dev/og-image.png"}],["$","meta","13",{"property":"og:image:width","content":"1200"}],["$","meta","14",{"property":"og:image:height","content":"630"}],["$","meta","15",{"property":"og:image:alt","content":"PhilJS Framework"}],["$","meta","16",{"property":"og:type","content":"website"}],["$","meta","17",{"name":"twitter:card","content":"summary_large_image"}],["$","meta","18",{"name":"twitter:title","content":"PhilJS - The Modern Web Framework"}],["$","meta","19",{"name":"twitter:description","content":"A fast, modern web framework with fine-grained reactivity and optional Rust integration."}],["$","meta","20",{"name":"twitter:image","content":"https://philjs.dev/og-image.png"}],["$","link","21",{"rel":"shortcut icon","href":"/favicon-16x16.png"}],["$","link","22",{"rel":"icon","href":"/favicon.ico"}],["$","link","23",{"rel":"apple-touch-icon","href":"/apple-touch-icon.png"}]]
1:null
