[package]
name = "philjs-mobile"
version = "0.1.0"
edition = "2021"
authors = ["PhilJS Contributors"]
description = "Native mobile support for PhilJS - build iOS and Android apps with Rust"
license = "MIT"
repository = "https://github.com/anthropics/philjs"
keywords = ["mobile", "ios", "android", "rust", "ui"]
categories = ["gui", "wasm", "development-tools"]
readme = "README.md"

[lib]
crate-type = ["cdylib", "rlib", "staticlib"]

[features]
default = ["ios", "android"]
ios = []
android = ["jni", "ndk", "ndk-glue"]
desktop = []

[dependencies]
# Core PhilJS
philjs-macros = { path = "../philjs-macros", version = "0.1.0" }

# Serialization
serde = { version = "1.0", features = ["derive"] }
serde_json = "1.0"

# Async
tokio = { version = "1.35", features = ["rt", "sync", "macros"], optional = true }
futures = "0.3"

# Platform-specific
[target.'cfg(target_os = "android")'.dependencies]
jni = { version = "0.21", optional = true }
ndk = { version = "0.8", optional = true }
ndk-glue = { version = "0.7", optional = true }

[target.'cfg(target_os = "ios")'.dependencies]
objc = "0.2"
objc-foundation = "0.1"
cocoa-foundation = "0.1"
block = "0.1"

# Graphics (cross-platform)
raw-window-handle = "0.6"
winit = { version = "0.29", default-features = false }

[dev-dependencies]
tokio = { version = "1.35", features = ["full"] }

[build-dependencies]
cc = "1.0"

[[example]]
name = "counter"
path = "examples/counter.rs"

[[example]]
name = "todo"
path = "examples/todo.rs"
